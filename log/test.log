[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Loaded [33m.env[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (49.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "rails_version_test"[0m
  [1m[35m (81.4ms)[0m  [1m[35mCREATE DATABASE "rails_version_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (19.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "events" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "events" ("id" bigserial primary key, "datetime" timestamp(6) NOT NULL, "event_type" character varying NOT NULL, "location" character varying, "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_events_on_datetime" ON "events" ("datetime")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_events_on_event_type" ON "events" ("event_type")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "finances" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "finances" ("id" bigserial primary key, "user_id" bigint NOT NULL, "amount" decimal(10,2) NOT NULL, "notes" text, "transaction_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_finances_on_created_at" ON "finances" ("created_at")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_finances_on_transaction_type" ON "finances" ("transaction_type")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_finances_on_user_id" ON "finances" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "access_level" character varying DEFAULT 'player' NOT NULL, "position" character varying, "chain" character varying, "car" boolean DEFAULT FALSE NOT NULL, "location" character varying, "balance" decimal(10,2) DEFAULT -100.0 NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_access_level" ON "users" ("access_level")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "finances" ADD CONSTRAINT "fk_rails_9740b85de3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250714041551)[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250710094935),
(20250709044448),
(20250708094512),
(20250708000000),
(20250707115700),
(20250707093431),
(20250707092040),
(20250703092021);[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-07-14 04:26:48.699207', '2025-07-14 04:26:48.699209') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'dd124c790e6f3eaa2017bd4f94a7e199310886c2', '2025-07-14 04:26:48.705044', '2025-07-14 04:26:48.705045') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (1.7ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-14 04:27:59.961158', '2025-07-14 04:27:59.961158'), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-14 04:27:59.961158', '2025-07-14 04:27:59.961158');
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-14 04:27:59.965610', '2025-07-14 04:27:59.965610', 'test_user_one', 'user1@example.com', '$2a$12$qQhlcxzmksccVz91Bbmb1e1jRcQkrBaKKp0cZRyLA73dOYDbKLqEu', 'player', 'Forward', 'Chain1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-14 04:27:59.965610', '2025-07-14 04:27:59.965610', 'test_user_two', 'user2@example.com', '$2a$12$zbD9FmoJH0Cr7GYVYyemoOEslKwr.g7BCM5c.qOpg6nu2SCms.sfG', 'admin', 'Manager', 'Chain2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-14 04:28:00.321811', '2025-07-14 04:28:00.321811'), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-14 04:28:00.321811', '2025-07-14 04:28:00.321811');
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-14 04:28:00.321911', '2025-07-14 04:28:00.321911', 'test_user_one', 'user1@example.com', '$2a$12$U/e59gVshoQoghJmwEnSz.51e.xWhpNLOvKfW8IY6iBxEhffzMGyy', 'player', 'Forward', 'Chain1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-14 04:28:00.321911', '2025-07-14 04:28:00.321911', 'test_user_two', 'user2@example.com', '$2a$12$dp2yhfysnVBrfzg09shtWe5bKYvwvAg0MPQq2RIReuhSxDsrvadPG', 'admin', 'Manager', 'Chain2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-14 04:28:00.691798', '2025-07-14 04:28:00.691798'), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-14 04:28:00.691798', '2025-07-14 04:28:00.691798');
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-14 04:28:00.691894', '2025-07-14 04:28:00.691894', 'test_user_one', 'user1@example.com', '$2a$12$KReHWhP1L7EX5KCwpX7douUYKdYNRfT.HZoBiBk6/5wLxld.dyNVG', 'player', 'Forward', 'Chain1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-14 04:28:00.691894', '2025-07-14 04:28:00.691894', 'test_user_two', 'user2@example.com', '$2a$12$dRvblAesy17xyDd6gv5gTeslorGvQ4gAW3ncgzd914xYRd3W9auSS', 'admin', 'Manager', 'Chain2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-14 04:28:01.055471', '2025-07-14 04:28:01.055471'), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-14 04:28:01.055471', '2025-07-14 04:28:01.055471');
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-14 04:28:01.055566', '2025-07-14 04:28:01.055566', 'test_user_one', 'user1@example.com', '$2a$12$2PZ4KODm9Pm.iTu8y8af9OZkleUj34jyCZysU8AzcWbnwM1RycEOe', 'player', 'Forward', 'Chain1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-14 04:28:01.055566', '2025-07-14 04:28:01.055566', 'test_user_two', 'user2@example.com', '$2a$12$oAbckie1ZS0aR.xZNjKSuueiY/jLEtJEL8eTsE2GLfopPq6OwjmTu', 'admin', 'Manager', 'Chain2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-14 04:28:01.409664', '2025-07-14 04:28:01.409664'), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-14 04:28:01.409664', '2025-07-14 04:28:01.409664');
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-14 04:28:01.409759', '2025-07-14 04:28:01.409759', 'test_user_one', 'user1@example.com', '$2a$12$lsvbRH2hHByHdE7cxGWjFuhv/fhHe2mFiUqR5r714gN.CIVWAP0JS', 'player', 'Forward', 'Chain1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-14 04:28:01.409759', '2025-07-14 04:28:01.409759', 'test_user_two', 'user2@example.com', '$2a$12$fwXuERMPNP8paTWkBQkEHu0AxWfU2tpy0NZqMv0WiZ0av0sMYObJ.', 'admin', 'Manager', 'Chain2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-14 04:28:01.770718', '2025-07-14 04:28:01.770718'), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-14 04:28:01.770718', '2025-07-14 04:28:01.770718');
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-14 04:28:01.770817', '2025-07-14 04:28:01.770817', 'test_user_one', 'user1@example.com', '$2a$12$P.S./JRbAG1s6uG61dCYXupO5Y2d7VtFY94r1a25mhhfhOK0YmezO', 'player', 'Forward', 'Chain1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-14 04:28:01.770817', '2025-07-14 04:28:01.770817', 'test_user_two', 'user2@example.com', '$2a$12$SkIILXLKCrETsbofufbWeeCFn3UO7z8ESeSq/CJxfjGEOVmuxZtkS', 'admin', 'Manager', 'Chain2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-14 04:28:02.126831', '2025-07-14 04:28:02.126831'), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-14 04:28:02.126831', '2025-07-14 04:28:02.126831');
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-14 04:28:02.126927', '2025-07-14 04:28:02.126927', 'test_user_one', 'user1@example.com', '$2a$12$ityn.Q8l3Ffo3V2YFUiHz.SZScjh1X5FDy5peTH4VrdkS46GkEtGG', 'player', 'Forward', 'Chain1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-14 04:28:02.126927', '2025-07-14 04:28:02.126927', 'test_user_two', 'user2@example.com', '$2a$12$JlG7Qm4eC09LOSDNnTvlVuoKIZANcFYultjn8b4s77H.UXLFwFMOC', 'admin', 'Manager', 'Chain2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-14 04:28:02.481361', '2025-07-14 04:28:02.481361'), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-14 04:28:02.481361', '2025-07-14 04:28:02.481361');
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-14 04:28:02.481462', '2025-07-14 04:28:02.481462', 'test_user_one', 'user1@example.com', '$2a$12$od.Xe41b3GP7Tlgub3MCv.8gmQiNzQRKbDNzyoMQhlWAcMU.CA4Zu', 'player', 'Forward', 'Chain1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-14 04:28:02.481462', '2025-07-14 04:28:02.481462', 'test_user_two', 'user2@example.com', '$2a$12$u5xBuyg.Am7CU1WbApv3wO7GyB23TdmNVBFuI.9kJ9xmcqXRRpsTu', 'admin', 'Manager', 'Chain2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (3.9ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-22 04:57:43.842333', '2025-07-22 04:57:43.842333', DEFAULT, DEFAULT), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-22 04:57:43.842333', '2025-07-22 04:57:43.842333', DEFAULT, DEFAULT);
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-22 04:57:43.855240', '2025-07-22 04:57:43.855240', 'test_user_one', 'user1@example.com', '$2a$12$fRBXCGcl52rBLdZQxqZqb.iHpkfzMJZBHVytMHWfjC1LYZQBleZUq', 'player', 'Forward', '1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-22 04:57:43.855240', '2025-07-22 04:57:43.855240', 'test_user_two', 'user2@example.com', '$2a$12$qWAPx/nb/YAVgx4Ib/ZrPOVtzRj.KlbSDWNKqpcAopIVDh10BAc5.', 'admin', 'Manager', '2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-22 04:57:44.615311', '2025-07-22 04:57:44.615311', DEFAULT, DEFAULT), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-22 04:57:44.615311', '2025-07-22 04:57:44.615311', DEFAULT, DEFAULT);
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-22 04:57:44.615414', '2025-07-22 04:57:44.615414', 'test_user_one', 'user1@example.com', '$2a$12$PcVhzGwmCdC7fnMmbbw1L.50QQ/OgaLB38Hf7NFtL7jfObkKAdh.6', 'player', 'Forward', '1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-22 04:57:44.615414', '2025-07-22 04:57:44.615414', 'test_user_two', 'user2@example.com', '$2a$12$T4e8Y3.PdyROrg2.8QKLaezjxPCzrVGckhCb1xtm9I3PnAAxOOloy', 'admin', 'Manager', '2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-22 04:57:45.318691', '2025-07-22 04:57:45.318691', DEFAULT, DEFAULT), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-22 04:57:45.318691', '2025-07-22 04:57:45.318691', DEFAULT, DEFAULT);
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-22 04:57:45.318801', '2025-07-22 04:57:45.318801', 'test_user_one', 'user1@example.com', '$2a$12$LX/VBdYS0gEHWMThtlzLiOl9Uzx8O0Ct01k9QlWQuGF/2vomqhXfi', 'player', 'Forward', '1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-22 04:57:45.318801', '2025-07-22 04:57:45.318801', 'test_user_two', 'user2@example.com', '$2a$12$BVL4b9HwfIMvtzI33nmLw.kd46ad6SyjFqUuson5crgc2lqcfYmhi', 'admin', 'Manager', '2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-22 04:57:46.033728', '2025-07-22 04:57:46.033728', DEFAULT, DEFAULT), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-22 04:57:46.033728', '2025-07-22 04:57:46.033728', DEFAULT, DEFAULT);
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-22 04:57:46.033833', '2025-07-22 04:57:46.033833', 'test_user_one', 'user1@example.com', '$2a$12$dKFSoMdhI7SBH.8gdQSPsuD4NaXTdFMVQ.xZ7lRJm0l4.W1FOu70e', 'player', 'Forward', '1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-22 04:57:46.033833', '2025-07-22 04:57:46.033833', 'test_user_two', 'user2@example.com', '$2a$12$8NKMuDOU970K2P1uaETeCO7sGkF7f/XahJ2gz8/ZeUu8kjDuUGQya', 'admin', 'Manager', '2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-22 04:57:59.678849', '2025-07-22 04:57:59.678849', DEFAULT, DEFAULT), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-22 04:57:59.678849', '2025-07-22 04:57:59.678849', DEFAULT, DEFAULT);
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-22 04:57:59.683469', '2025-07-22 04:57:59.683469', 'test_user_one', 'user1@example.com', '$2a$12$asJXjnVlD48bNiAw96JuqOk7zvg9XxB07PStNoyUSTm6vgJkmLFb6', 'player', 'Forward', '1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-22 04:57:59.683469', '2025-07-22 04:57:59.683469', 'test_user_two', 'user2@example.com', '$2a$12$hdIKHZe5DIdJKtgxZQ/hS.w0HdtFbkyKCkm6ciCwE0hsgtWbYvvX.', 'admin', 'Manager', '2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-22 04:58:00.401831', '2025-07-22 04:58:00.401831', DEFAULT, DEFAULT), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-22 04:58:00.401831', '2025-07-22 04:58:00.401831', DEFAULT, DEFAULT);
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-22 04:58:00.401930', '2025-07-22 04:58:00.401930', 'test_user_one', 'user1@example.com', '$2a$12$Hp17Nn4QsmjvxTdAUZPOFe/YdWTo4zn9dgGx/8hbzxkV3gats7d1K', 'player', 'Forward', '1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-22 04:58:00.401930', '2025-07-22 04:58:00.401930', 'test_user_two', 'user2@example.com', '$2a$12$OdjCQl7DP4.6hlLHQw9AbOpMtydc.RSUlSXNRhCRdWvcsywwURjva', 'admin', 'Manager', '2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-22 04:58:01.104613', '2025-07-22 04:58:01.104613', DEFAULT, DEFAULT), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-22 04:58:01.104613', '2025-07-22 04:58:01.104613', DEFAULT, DEFAULT);
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-22 04:58:01.104709', '2025-07-22 04:58:01.104709', 'test_user_one', 'user1@example.com', '$2a$12$2auhW8vmJnrC4wZGZKXqjuWITGF/VSQg3dU528KxKLbfUeVia5bz2', 'player', 'Forward', '1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-22 04:58:01.104709', '2025-07-22 04:58:01.104709', 'test_user_two', 'user2@example.com', '$2a$12$AVqgBelVQTe2eSSvbzrk3Op2CqjRmKnFqov4bewigIOW5LQQSn7.G', 'admin', 'Manager', '2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "events" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "finances" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK AND CHAIN[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "finances";
DELETE FROM "users";
INSERT INTO "finances" ("id", "user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES (980190962, 980190962, 50.0, 'Test payment transaction', 'payment', '2025-07-22 04:58:01.811373', '2025-07-22 04:58:01.811373', DEFAULT, DEFAULT), (298486374, 298486374, -25.0, 'Test deduction transaction', 'deduction', '2025-07-22 04:58:01.811373', '2025-07-22 04:58:01.811373', DEFAULT, DEFAULT);
INSERT INTO "users" ("id", "created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES (980190962, '2025-07-22 04:58:01.811489', '2025-07-22 04:58:01.811489', 'test_user_one', 'user1@example.com', '$2a$12$si3a4iZA12crSiSf63.QSOJ47DeKWwg08FfQkfywTHBVLWFU5q3P2', 'player', 'Forward', '1', FALSE, 'Helsinki', 100.0), (298486374, '2025-07-22 04:58:01.811489', '2025-07-22 04:58:01.811489', 'test_user_two', 'user2@example.com', '$2a$12$I7drgrEeweNK6EKwKJGJoe6lhWr3seMiwIHm7i6l.jOuYFmIktGJW', 'admin', 'Manager', '2', TRUE, 'Turku', 300.0)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
HubControllerTest: test_hub_should_filter_out_current_user_from_roster
----------------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (1.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_199"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:48.774735"], ["updated_at", "2025-07-22 04:58:48.774735"], ["username", "testuser_199"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_597"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:48.781762"], ["updated_at", "2025-07-22 04:58:48.781762"], ["username", "testuser_597"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_151"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:48.788126"], ["updated_at", "2025-07-22 04:58:48.788126"], ["username", "testuser_151"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_343"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:48.793648"], ["updated_at", "2025-07-22 04:58:48.793648"], ["username", "testuser_343"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 07:58:48 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 12ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.7ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:58:48 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 1], [nil, 1], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 1], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 1], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 1]]
  Rendered hub/index.html.erb within layouts/application (Duration: 19.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | GC: 0.3ms)
Completed 200 OK in 34ms (Views: 22.4ms | ActiveRecord: 4.1ms (7 queries, 1 cached) | GC: 0.7ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:58:48 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 1], [nil, 1], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 1], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 1], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 1]]
  Rendered hub/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms (7 queries, 7 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
HubControllerTest: test_should_redirect_to_login_when_not_authenticated
-----------------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_607"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:48.924489"], ["updated_at", "2025-07-22 04:58:48.924489"], ["username", "testuser_607"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_166"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:48.928215"], ["updated_at", "2025-07-22 04:58:48.928215"], ["username", "testuser_166"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:58:48 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
HubControllerTest: test_should_load_required_data_for_hub
---------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_117"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:48.939101"], ["updated_at", "2025-07-22 04:58:48.939101"], ["username", "testuser_117"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_792"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:48.943220"], ["updated_at", "2025-07-22 04:58:48.943220"], ["username", "testuser_792"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.9ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 04:58:48.944701"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 04:58:48.945226"], ["updated_at", "2025-07-22 04:58:48.945226"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_183"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:48.950535"], ["updated_at", "2025-07-22 04:58:48.950535"], ["username", "testuser_183"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 07:58:48 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:58:48 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 7], [nil, 7], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 7], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 7], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 7]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.7ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.5ms)
Completed 200 OK in 35ms (Views: 5.8ms | ActiveRecord: 1.9ms (9 queries, 1 cached) | GC: 26.7ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:58:48 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Event Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 7], [nil, 7], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 7], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 7], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Event Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 7]]
  Rendered hub/index.html.erb within layouts/application (Duration: 4.2ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.4ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms (9 queries, 9 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubControllerTest: test_should_show_hub_when_authenticated
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_869"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:49.006385"], ["updated_at", "2025-07-22 04:58:49.006385"], ["username", "testuser_869"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_226"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:58:49.008991"], ["updated_at", "2025-07-22 04:58:49.008991"], ["username", "testuser_226"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 07:58:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:58:49 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 10], [nil, 10], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 10], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 10], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 10]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.3ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.6ms (7 queries, 1 cached) | GC: 0.3ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:58:49 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 10], [nil, 10], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 10], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 10], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 10]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.3ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms (7 queries, 7 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
HubControllerTest: test_hub_should_filter_out_current_user_from_roster
----------------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_792"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.412678"], ["updated_at", "2025-07-22 04:59:19.412678"], ["username", "testuser_792"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_464"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.415724"], ["updated_at", "2025-07-22 04:59:19.415724"], ["username", "testuser_464"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_681"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.418365"], ["updated_at", "2025-07-22 04:59:19.418365"], ["username", "testuser_681"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_811"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.420396"], ["updated_at", "2025-07-22 04:59:19.420396"], ["username", "testuser_811"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 07:59:19 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 7ms (ActiveRecord: 0.9ms (1 query, 0 cached) | GC: 0.7ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:19 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 12], [nil, 12], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 12], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 12], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 12]]
  Rendered hub/index.html.erb within layouts/application (Duration: 11.1ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | GC: 0.9ms)
Completed 200 OK in 22ms (Views: 13.1ms | ActiveRecord: 3.9ms (7 queries, 1 cached) | GC: 1.3ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:19 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 12], [nil, 12], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 12], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 12], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 12]]
  Rendered hub/index.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms (7 queries, 7 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
HubControllerTest: test_should_redirect_to_login_when_not_authenticated
-----------------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_789"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.531915"], ["updated_at", "2025-07-22 04:59:19.531915"], ["username", "testuser_789"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_992"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.534324"], ["updated_at", "2025-07-22 04:59:19.534324"], ["username", "testuser_992"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:19 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
HubControllerTest: test_should_load_required_data_for_hub
---------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_825"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.544318"], ["updated_at", "2025-07-22 04:59:19.544318"], ["username", "testuser_825"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_115"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.549034"], ["updated_at", "2025-07-22 04:59:19.549034"], ["username", "testuser_115"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 04:59:19.550672"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 04:59:19.551220"], ["updated_at", "2025-07-22 04:59:19.551220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_650"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.555549"], ["updated_at", "2025-07-22 04:59:19.555549"], ["username", "testuser_650"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 07:59:19 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:19 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 18], [nil, 18], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 18], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 18], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 18]]
  Rendered hub/index.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 1.9ms (9 queries, 1 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:19 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Event Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 18], [nil, 18], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 18], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 18], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Event Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 18]]
  Rendered hub/index.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.1ms (9 queries, 9 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubControllerTest: test_should_show_hub_when_authenticated
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_421"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.588310"], ["updated_at", "2025-07-22 04:59:19.588310"], ["username", "testuser_421"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_397"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:19.591660"], ["updated_at", "2025-07-22 04:59:19.591660"], ["username", "testuser_397"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 07:59:19 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:19 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 21], [nil, 21], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 21], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 21], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 21]]
  Rendered hub/index.html.erb within layouts/application (Duration: 7.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 1.6ms (7 queries, 1 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:19 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 21], [nil, 21], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 21], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 21], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 21]]
  Rendered hub/index.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.1ms (7 queries, 7 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
HubControllerTest: test_should_redirect_to_login_when_not_authenticated
-----------------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_47"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.267099"], ["updated_at", "2025-07-22 04:59:41.267099"], ["username", "testuser_47"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_387"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.273202"], ["updated_at", "2025-07-22 04:59:41.273202"], ["username", "testuser_387"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
HubControllerTest: test_should_load_required_data_for_hub
---------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_603"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.361521"], ["updated_at", "2025-07-22 04:59:41.361521"], ["username", "testuser_603"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_968"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.366896"], ["updated_at", "2025-07-22 04:59:41.366896"], ["username", "testuser_968"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 04:59:41.369190"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 04:59:41.376157"], ["updated_at", "2025-07-22 04:59:41.376157"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_645"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.379680"], ["updated_at", "2025-07-22 04:59:41.379680"], ["username", "testuser_645"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 07:59:41 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 5ms (ActiveRecord: 0.7ms (1 query, 0 cached) | GC: 0.7ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.9ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 25], [nil, 25], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 25], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 25], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 25]]
  Rendered hub/index.html.erb within layouts/application (Duration: 19.6ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | GC: 0.7ms)
Completed 200 OK in 39ms (Views: 23.3ms | ActiveRecord: 6.2ms (9 queries, 1 cached) | GC: 1.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:41 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Event Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 25], [nil, 25], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 25], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 25], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Event Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 25]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.1ms (9 queries, 9 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubControllerTest: test_should_show_hub_when_authenticated
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_671"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.451930"], ["updated_at", "2025-07-22 04:59:41.451930"], ["username", "testuser_671"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_511"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.456176"], ["updated_at", "2025-07-22 04:59:41.456176"], ["username", "testuser_511"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 07:59:41 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 28], [nil, 28], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 28], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 28], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 28]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.7ms (7 queries, 1 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:41 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 28], [nil, 28], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 28], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 28], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 28]]
  Rendered hub/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms (7 queries, 7 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
HubControllerTest: test_hub_should_filter_out_current_user_from_roster
----------------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_163"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.476301"], ["updated_at", "2025-07-22 04:59:41.476301"], ["username", "testuser_163"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_345"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.478644"], ["updated_at", "2025-07-22 04:59:41.478644"], ["username", "testuser_345"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_50"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.481095"], ["updated_at", "2025-07-22 04:59:41.481095"], ["username", "testuser_50"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_921"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 04:59:41.483732"], ["updated_at", "2025-07-22 04:59:41.483732"], ["username", "testuser_921"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 07:59:41 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 30], [nil, 30], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 30], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 30], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 30]]
  Rendered hub/index.html.erb within layouts/application (Duration: 5.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 1.2ms (7 queries, 1 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 07:59:41 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 30], [nil, 30], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 30], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 30], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 30]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms (7 queries, 7 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
HubFlowTest: test_hub_displays_user-specific_data
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_954"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:04:29.886969"], ["updated_at", "2025-07-22 05:04:29.886969"], ["username", "testuser_954"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_302"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:04:29.892137"], ["updated_at", "2025-07-22 05:04:29.892137"], ["username", "testuser_302"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:04:29.894132"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 05:04:29.898847"], ["updated_at", "2025-07-22 05:04:29.898847"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_70"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:04:29.902743"], ["updated_at", "2025-07-22 05:04:29.902743"], ["username", "testuser_70"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:04:29 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 7ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.3ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:04:29 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 34], [nil, 34], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 34], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 34], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 34]]
  Rendered hub/index.html.erb within layouts/application (Duration: 12.2ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | GC: 0.1ms)
Completed 200 OK in 24ms (Views: 14.4ms | ActiveRecord: 3.2ms (9 queries, 1 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubFlowTest: test_unauthenticated_user_redirected_to_login
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_728"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:04:29.987653"], ["updated_at", "2025-07-22 05:04:29.987653"], ["username", "testuser_728"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_480"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:04:29.990144"], ["updated_at", "2025-07-22 05:04:29.990144"], ["username", "testuser_480"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:04:29 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-22 08:04:29 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
HubFlowTest: test_user_login_redirects_to_hub
---------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_309"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:04:30.001736"], ["updated_at", "2025-07-22 05:04:30.001736"], ["username", "testuser_309"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_341"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:04:30.004598"], ["updated_at", "2025-07-22 05:04:30.004598"], ["username", "testuser_341"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:04:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:04:30 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 39], [nil, 39], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 39], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 39], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 39]]
  Rendered hub/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.9ms (7 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
HubFlowTest: test_hub_displays_user-specific_data
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_681"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:04:49.179080"], ["updated_at", "2025-07-22 05:04:49.179080"], ["username", "testuser_681"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_680"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:04:49.182836"], ["updated_at", "2025-07-22 05:04:49.182836"], ["username", "testuser_680"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:04:49.183921"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 05:04:49.187806"], ["updated_at", "2025-07-22 05:04:49.187806"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_448"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:04:49.190193"], ["updated_at", "2025-07-22 05:04:49.190193"], ["username", "testuser_448"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:04:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 7ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.3ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:04:49 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (1.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.8ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 41], [nil, 41], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 41], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 41], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 41]]
  Rendered hub/index.html.erb within layouts/application (Duration: 20.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 23.4ms | ActiveRecord: 4.9ms (9 queries, 1 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
HubFlowTest: test_user_login_redirects_to_hub
---------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_836"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:05:45.502992"], ["updated_at", "2025-07-22 05:05:45.502992"], ["username", "testuser_836"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_276"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:05:45.506104"], ["updated_at", "2025-07-22 05:05:45.506104"], ["username", "testuser_276"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:05:45 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 9ms (ActiveRecord: 1.2ms (1 query, 0 cached) | GC: 2.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:05:45 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (1.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 44], [nil, 44], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 44], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 44], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 44]]
  Rendered hub/index.html.erb within layouts/application (Duration: 19.6ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | GC: 1.2ms)
Completed 200 OK in 35ms (Views: 21.7ms | ActiveRecord: 6.0ms (7 queries, 1 cached) | GC: 2.1ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubFlowTest: test_unauthenticated_user_redirected_to_login
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_563"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:05:45.633182"], ["updated_at", "2025-07-22 05:05:45.633182"], ["username", "testuser_563"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_674"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:05:45.637966"], ["updated_at", "2025-07-22 05:05:45.637966"], ["username", "testuser_674"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:05:45 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-22 08:05:45 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
HubFlowTest: test_hub_displays_user-specific_data
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_609"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:05:45.657831"], ["updated_at", "2025-07-22 05:05:45.657831"], ["username", "testuser_609"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_404"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:05:45.662673"], ["updated_at", "2025-07-22 05:05:45.662673"], ["username", "testuser_404"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (1.1ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:05:45.664064"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 05:05:45.664591"], ["updated_at", "2025-07-22 05:05:45.664591"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "otherplayer"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:05:45.669261"], ["updated_at", "2025-07-22 05:05:45.669261"], ["username", "otherplayer"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:05:45 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:05:45 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 48], [nil, 48], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 48], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 48], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 48]]
  Rendered hub/index.html.erb within layouts/application (Duration: 9.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 2.1ms (9 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
HubFlowTest: test_hub_displays_user-specific_data
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_159"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:06.655552"], ["updated_at", "2025-07-22 05:06:06.655552"], ["username", "testuser_159"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_40"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:06.659830"], ["updated_at", "2025-07-22 05:06:06.659830"], ["username", "testuser_40"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:06:06.661967"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 05:06:06.666531"], ["updated_at", "2025-07-22 05:06:06.666531"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "otherplayer"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:06.669954"], ["updated_at", "2025-07-22 05:06:06.669954"], ["username", "otherplayer"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:06:06 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 7ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.3ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:06:06 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 51], [nil, 51], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 51], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 51], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 51]]
  Rendered hub/index.html.erb within layouts/application (Duration: 10.7ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | GC: 0.1ms)
Completed 200 OK in 22ms (Views: 13.0ms | ActiveRecord: 2.7ms (9 queries, 1 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
HubFlowTest: test_hub_displays_user-specific_data
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_498"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:33.283864"], ["updated_at", "2025-07-22 05:06:33.283864"], ["username", "testuser_498"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_121"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:33.288282"], ["updated_at", "2025-07-22 05:06:33.288282"], ["username", "testuser_121"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:06:33.289864"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 05:06:33.293932"], ["updated_at", "2025-07-22 05:06:33.293932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "otherplayer"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:33.297511"], ["updated_at", "2025-07-22 05:06:33.297511"], ["username", "otherplayer"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:06:33 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 7ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.4ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:06:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 54], [nil, 54], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 54], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 54], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 54]]
  Rendered hub/index.html.erb within layouts/application (Duration: 10.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | GC: 0.1ms)
Completed 200 OK in 22ms (Views: 12.4ms | ActiveRecord: 2.7ms (9 queries, 1 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubFlowTest: test_unauthenticated_user_redirected_to_login
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_949"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:33.396864"], ["updated_at", "2025-07-22 05:06:33.396864"], ["username", "testuser_949"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_339"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:33.399584"], ["updated_at", "2025-07-22 05:06:33.399584"], ["username", "testuser_339"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:06:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-22 08:06:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
HubFlowTest: test_user_login_redirects_to_hub
---------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_31"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:33.410562"], ["updated_at", "2025-07-22 05:06:33.410562"], ["username", "testuser_31"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_386"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:33.413564"], ["updated_at", "2025-07-22 05:06:33.413564"], ["username", "testuser_386"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:06:33 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:06:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 59], [nil, 59], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 59], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 59], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 59]]
  Rendered hub/index.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.8ms (7 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
HubFlowTest: test_user_login_redirects_to_hub
---------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_62"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:54.130210"], ["updated_at", "2025-07-22 05:06:54.130210"], ["username", "testuser_62"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_754"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:54.134880"], ["updated_at", "2025-07-22 05:06:54.134880"], ["username", "testuser_754"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:06:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 9ms (ActiveRecord: 1.7ms (1 query, 0 cached) | GC: 0.6ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:06:54 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 61], [nil, 61], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 61], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 61], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 61]]
  Rendered hub/index.html.erb within layouts/application (Duration: 12.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | GC: 0.2ms)
Completed 200 OK in 28ms (Views: 14.8ms | ActiveRecord: 3.7ms (7 queries, 1 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubFlowTest: test_unauthenticated_user_redirected_to_login
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_670"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:54.251334"], ["updated_at", "2025-07-22 05:06:54.251334"], ["username", "testuser_670"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_706"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:54.256537"], ["updated_at", "2025-07-22 05:06:54.256537"], ["username", "testuser_706"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:06:54 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-22 08:06:54 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
HubFlowTest: test_hub_displays_user-specific_data
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_413"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:54.271316"], ["updated_at", "2025-07-22 05:06:54.271316"], ["username", "testuser_413"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_710"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:54.275904"], ["updated_at", "2025-07-22 05:06:54.275904"], ["username", "testuser_710"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:06:54.278334"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 05:06:54.278930"], ["updated_at", "2025-07-22 05:06:54.278930"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "otherplayer"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:06:54.283713"], ["updated_at", "2025-07-22 05:06:54.283713"], ["username", "otherplayer"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:06:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:06:54 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 65], [nil, 65], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 65], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 65], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 65]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 1.5ms (9 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
HubFlowTest: test_hub_displays_user-specific_data
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_961"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.741793"], ["updated_at", "2025-07-22 05:07:09.741793"], ["username", "testuser_961"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_990"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.746283"], ["updated_at", "2025-07-22 05:07:09.746283"], ["username", "testuser_990"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.8ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:07:09.748187"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 05:07:09.755451"], ["updated_at", "2025-07-22 05:07:09.755451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "otherplayer"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.759813"], ["updated_at", "2025-07-22 05:07:09.759813"], ["username", "otherplayer"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 8ms (ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 68], [nil, 68], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 68], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 68], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 68]]
  Rendered hub/index.html.erb within layouts/application (Duration: 14.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 16.3ms | ActiveRecord: 6.2ms (9 queries, 1 cached) | GC: 1.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubFlowTest: test_unauthenticated_user_redirected_to_login
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_583"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.886168"], ["updated_at", "2025-07-22 05:07:09.886168"], ["username", "testuser_583"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_397"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.890395"], ["updated_at", "2025-07-22 05:07:09.890395"], ["username", "testuser_397"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
HubFlowTest: test_user_login_redirects_to_hub
---------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_379"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.909542"], ["updated_at", "2025-07-22 05:07:09.909542"], ["username", "testuser_379"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_418"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.913175"], ["updated_at", "2025-07-22 05:07:09.913175"], ["username", "testuser_418"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 73], [nil, 73], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 73], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 73], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 73]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.8ms (7 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
EventsControllerTest: test_admin_can_create_event
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_215"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.938371"], ["updated_at", "2025-07-22 05:07:09.938371"], ["username", "testuser_215"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_965"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.941600"], ["updated_at", "2025-07-22 05:07:09.941600"], ["username", "testuser_965"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:07:09.943684"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Test event"], ["created_at", "2025-07-22 05:07:09.944060"], ["updated_at", "2025-07-22 05:07:09.944060"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Started POST "/events" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-24 05:07:09 UTC", "event_type"=>"match", "location"=>"Away Ground", "notes"=>"Important match"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-24 05:07:09"], ["event_type", "match"], ["location", "Away Ground"], ["notes", "Important match"], ["created_at", "2025-07-22 05:07:09.960711"], ["updated_at", "2025-07-22 05:07:09.960711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/hub
Completed 302 Found in 5ms (ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
EventsControllerTest: test_regular_user_cannot_delete_event
-----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_259"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.969397"], ["updated_at", "2025-07-22 05:07:09.969397"], ["username", "testuser_259"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_910"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.972182"], ["updated_at", "2025-07-22 05:07:09.972182"], ["username", "testuser_910"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:07:09.972840"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Test event"], ["created_at", "2025-07-22 05:07:09.973055"], ["updated_at", "2025-07-22 05:07:09.973055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Started DELETE "/events/13" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by EventsController#destroy as HTML
  Parameters: {"id"=>"13"}
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE Event Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
EventsControllerTest: test_admin_can_delete_event
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_786"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.985642"], ["updated_at", "2025-07-22 05:07:09.985642"], ["username", "testuser_786"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_308"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:09.989766"], ["updated_at", "2025-07-22 05:07:09.989766"], ["username", "testuser_308"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (1.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:07:09.992235"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Test event"], ["created_at", "2025-07-22 05:07:09.992611"], ["updated_at", "2025-07-22 05:07:09.992611"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:07:09 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Started DELETE "/events/14" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by EventsController#destroy as HTML
  Parameters: {"id"=>"14"}
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Destroy (0.7ms)[0m  [1m[31mDELETE FROM "events" WHERE "events"."id" = $1[0m  [["id", 14]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/hub
Completed 302 Found in 6ms (ActiveRecord: 1.9ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
EventsControllerTest: test_admin_can_update_event
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_197"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.015377"], ["updated_at", "2025-07-22 05:07:10.015377"], ["username", "testuser_197"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_841"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.019734"], ["updated_at", "2025-07-22 05:07:10.019734"], ["username", "testuser_841"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:07:10.020754"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Test event"], ["created_at", "2025-07-22 05:07:10.021042"], ["updated_at", "2025-07-22 05:07:10.021042"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/events/15" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by EventsController#update as HTML
  Parameters: {"event"=>{"event_type"=>"match", "location"=>"Updated Location", "notes"=>"Updated notes"}, "id"=>"15"}
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Update (0.4ms)[0m  [1m[33mUPDATE "events" SET "event_type" = $1, "location" = $2, "notes" = $3, "updated_at" = $4 WHERE "events"."id" = $5[0m  [["event_type", "match"], ["location", "Updated Location"], ["notes", "Updated notes"], ["updated_at", "2025-07-22 05:07:10.029901"], ["id", 15]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/hub
Completed 302 Found in 5ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
EventsControllerTest: test_regular_user_cannot_create_event
-----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_686"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.036811"], ["updated_at", "2025-07-22 05:07:10.036811"], ["username", "testuser_686"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_805"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.040859"], ["updated_at", "2025-07-22 05:07:10.040859"], ["username", "testuser_805"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.8ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:07:10.042117"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Test event"], ["created_at", "2025-07-22 05:07:10.042579"], ["updated_at", "2025-07-22 05:07:10.042579"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Started POST "/events" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-24 05:07:10 UTC", "event_type"=>"match", "location"=>"Away Ground"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE Event Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
HubControllerTest: test_hub_should_filter_out_current_user_from_roster
----------------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_961"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.062290"], ["updated_at", "2025-07-22 05:07:10.062290"], ["username", "testuser_961"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_990"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.065483"], ["updated_at", "2025-07-22 05:07:10.065483"], ["username", "testuser_990"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_583"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.068220"], ["updated_at", "2025-07-22 05:07:10.068220"], ["username", "testuser_583"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_397"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.070661"], ["updated_at", "2025-07-22 05:07:10.070661"], ["username", "testuser_397"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 85], [nil, 85], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 85], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 85], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 85]]
  Rendered hub/index.html.erb within layouts/application (Duration: 5.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 1.2ms (7 queries, 1 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 85], [nil, 85], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 85], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 85], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 85]]
  Rendered hub/index.html.erb within layouts/application (Duration: 22.2ms | GC: 17.9ms)
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | GC: 17.9ms)
Completed 200 OK in 24ms (Views: 23.1ms | ActiveRecord: 0.0ms (7 queries, 7 cached) | GC: 17.9ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
HubControllerTest: test_should_load_required_data_for_hub
---------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_379"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.120942"], ["updated_at", "2025-07-22 05:07:10.120942"], ["username", "testuser_379"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_418"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.124090"], ["updated_at", "2025-07-22 05:07:10.124090"], ["username", "testuser_418"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:07:10.125084"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 05:07:10.125377"], ["updated_at", "2025-07-22 05:07:10.125377"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_84"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.128058"], ["updated_at", "2025-07-22 05:07:10.128058"], ["username", "testuser_84"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.7ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 89], [nil, 89], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 89], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 89], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 89]]
  Rendered hub/index.html.erb within layouts/application (Duration: 9.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | GC: 0.4ms)
Completed 200 OK in 12ms (Views: 8.3ms | ActiveRecord: 2.1ms (9 queries, 1 cached) | GC: 0.4ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Event Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 89], [nil, 89], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 89], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 89], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Event Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 89]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.1ms (9 queries, 9 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
HubControllerTest: test_should_redirect_to_login_when_not_authenticated
-----------------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_781"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.166755"], ["updated_at", "2025-07-22 05:07:10.166755"], ["username", "testuser_781"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_618"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.172702"], ["updated_at", "2025-07-22 05:07:10.172702"], ["username", "testuser_618"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubControllerTest: test_should_show_hub_when_authenticated
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_828"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.189188"], ["updated_at", "2025-07-22 05:07:10.189188"], ["username", "testuser_828"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_990"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:07:10.193298"], ["updated_at", "2025-07-22 05:07:10.193298"], ["username", "testuser_990"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 94], [nil, 94], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 94], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 94], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 94]]
  Rendered hub/index.html.erb within layouts/application (Duration: 8.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 1.9ms (7 queries, 1 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:07:10 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 94], [nil, 94], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 94], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 94], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 94]]
  Rendered hub/index.html.erb within layouts/application (Duration: 5.4ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.3ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.1ms (7 queries, 7 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_get_create
-------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_get_update
-------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_get_destroy
--------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
FinancesControllerTest: test_should_get_dashboard
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_get_create
-------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_show
-----------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_get_destroy
--------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersControllerTest: test_should_get_update
-------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubControllerTest: test_should_show_hub_when_authenticated
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_391"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.681048"], ["updated_at", "2025-07-22 05:11:11.681048"], ["username", "testuser_391"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_798"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.684449"], ["updated_at", "2025-07-22 05:11:11.684449"], ["username", "testuser_798"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 6ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 96], [nil, 96], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 96], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 96], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 96]]
  Rendered hub/index.html.erb within layouts/application (Duration: 13.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 14.7ms | ActiveRecord: 3.3ms (7 queries, 1 cached) | GC: 0.1ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 96], [nil, 96], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 96], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 96], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 96]]
  Rendered hub/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms (7 queries, 7 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
HubControllerTest: test_hub_should_filter_out_current_user_from_roster
----------------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_79"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.741866"], ["updated_at", "2025-07-22 05:11:11.741866"], ["username", "testuser_79"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_446"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.744020"], ["updated_at", "2025-07-22 05:11:11.744020"], ["username", "testuser_446"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_825"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.746082"], ["updated_at", "2025-07-22 05:11:11.746082"], ["username", "testuser_825"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_449"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.748019"], ["updated_at", "2025-07-22 05:11:11.748019"], ["username", "testuser_449"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 17ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 14.8ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 98], [nil, 98], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 98], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 98], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 98]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.4ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.7ms (7 queries, 1 cached) | GC: 0.4ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 98], [nil, 98], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 98], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 98], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 98]]
  Rendered hub/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.4ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (7 queries, 7 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
HubControllerTest: test_should_load_required_data_for_hub
---------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_600"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.781271"], ["updated_at", "2025-07-22 05:11:11.781271"], ["username", "testuser_600"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_623"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.783473"], ["updated_at", "2025-07-22 05:11:11.783473"], ["username", "testuser_623"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:11:11.784045"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 05:11:11.784432"], ["updated_at", "2025-07-22 05:11:11.784432"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_289"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.786877"], ["updated_at", "2025-07-22 05:11:11.786877"], ["username", "testuser_289"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 102], [nil, 102], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 102], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 102], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 102]]
  Rendered hub/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.3ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.7ms (9 queries, 1 cached) | GC: 0.3ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by HubController#index as HTML
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Event Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mCACHE Finance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 102], [nil, 102], ["LIMIT", 10]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 102], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 102], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Event Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 102]]
  Rendered hub/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.3ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms (9 queries, 9 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------
HubControllerTest: test_should_redirect_to_login_when_not_authenticated
-----------------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_157"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.805295"], ["updated_at", "2025-07-22 05:11:11.805295"], ["username", "testuser_157"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_409"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.808045"], ["updated_at", "2025-07-22 05:11:11.808045"], ["username", "testuser_409"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
EventsControllerTest: test_regular_user_cannot_create_event
-----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_815"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.813476"], ["updated_at", "2025-07-22 05:11:11.813476"], ["username", "testuser_815"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_381"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.815441"], ["updated_at", "2025-07-22 05:11:11.815441"], ["username", "testuser_381"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:11:11.815920"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Test event"], ["created_at", "2025-07-22 05:11:11.816093"], ["updated_at", "2025-07-22 05:11:11.816093"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Started POST "/events" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-24 05:11:11 UTC", "event_type"=>"match", "location"=>"Away Ground"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE Event Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
EventsControllerTest: test_admin_can_create_event
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_614"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.826996"], ["updated_at", "2025-07-22 05:11:11.826996"], ["username", "testuser_614"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_582"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.829341"], ["updated_at", "2025-07-22 05:11:11.829341"], ["username", "testuser_582"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:11:11.829932"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Test event"], ["created_at", "2025-07-22 05:11:11.830132"], ["updated_at", "2025-07-22 05:11:11.830132"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Started POST "/events" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-24 05:11:11 UTC", "event_type"=>"match", "location"=>"Away Ground", "notes"=>"Important match"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-24 05:11:11"], ["event_type", "match"], ["location", "Away Ground"], ["notes", "Important match"], ["created_at", "2025-07-22 05:11:11.835225"], ["updated_at", "2025-07-22 05:11:11.835225"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
EventsControllerTest: test_regular_user_cannot_delete_event
-----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_528"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.840077"], ["updated_at", "2025-07-22 05:11:11.840077"], ["username", "testuser_528"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_922"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.842131"], ["updated_at", "2025-07-22 05:11:11.842131"], ["username", "testuser_922"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:11:11.842656"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Test event"], ["created_at", "2025-07-22 05:11:11.842822"], ["updated_at", "2025-07-22 05:11:11.842822"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Started DELETE "/events/22" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by EventsController#destroy as HTML
  Parameters: {"id"=>"22"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE Event Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
EventsControllerTest: test_admin_can_update_event
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_830"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.866194"], ["updated_at", "2025-07-22 05:11:11.866194"], ["username", "testuser_830"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_494"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.868586"], ["updated_at", "2025-07-22 05:11:11.868586"], ["username", "testuser_494"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:11:11.869162"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Test event"], ["created_at", "2025-07-22 05:11:11.869348"], ["updated_at", "2025-07-22 05:11:11.869348"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/events/23" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by EventsController#update as HTML
  Parameters: {"event"=>{"event_type"=>"match", "location"=>"Updated Location", "notes"=>"Updated notes"}, "id"=>"23"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Update (0.3ms)[0m  [1m[33mUPDATE "events" SET "event_type" = $1, "location" = $2, "notes" = $3, "updated_at" = $4 WHERE "events"."id" = $5[0m  [["event_type", "match"], ["location", "Updated Location"], ["notes", "Updated notes"], ["updated_at", "2025-07-22 05:11:11.875483"], ["id", 23]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
EventsControllerTest: test_admin_can_delete_event
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_553"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.880352"], ["updated_at", "2025-07-22 05:11:11.880352"], ["username", "testuser_553"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_680"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.882440"], ["updated_at", "2025-07-22 05:11:11.882440"], ["username", "testuser_680"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:11:11.882993"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Test event"], ["created_at", "2025-07-22 05:11:11.883156"], ["updated_at", "2025-07-22 05:11:11.883156"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Started DELETE "/events/24" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by EventsController#destroy as HTML
  Parameters: {"id"=>"24"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Destroy (0.2ms)[0m  [1m[31mDELETE FROM "events" WHERE "events"."id" = $1[0m  [["id", 24]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
FinancesControllerTest: test_should_get_dashboard
-------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HubFlowTest: test_hub_displays_users_data
-----------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_778"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.896663"], ["updated_at", "2025-07-22 05:11:11.896663"], ["username", "testuser_778"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_321"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.898901"], ["updated_at", "2025-07-22 05:11:11.898901"], ["username", "testuser_321"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 05:11:11.899459"], ["event_type", "training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-22 05:11:11.899789"], ["updated_at", "2025-07-22 05:11:11.899789"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "otherplayer"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.901772"], ["updated_at", "2025-07-22 05:11:11.901772"], ["username", "otherplayer"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 117], [nil, 117], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 117], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 117], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 117]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.8ms (9 queries, 1 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------
HubFlowTest: test_unauthenticated_user_redirected_to_login
----------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_815"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.916495"], ["updated_at", "2025-07-22 05:11:11.916495"], ["username", "testuser_815"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_381"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.919184"], ["updated_at", "2025-07-22 05:11:11.919184"], ["username", "testuser_381"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
HubFlowTest: test_user_login_redirects_to_hub
---------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_614"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.929682"], ["updated_at", "2025-07-22 05:11:11.929682"], ["username", "testuser_614"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_582"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 05:11:11.931913"], ["updated_at", "2025-07-22 05:11:11.931913"], ["username", "testuser_582"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:11:11 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 122], [nil, 122], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 122], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 ORDER BY "users"."username" ASC LIMIT $3[0m  [["id", 122], ["username", "Admin"], ["LIMIT", 5]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 122]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.4ms (7 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
HubControllerTest: test_hub_redirects_to_login_when_not_logged_in
-----------------------------------------------------------------
[dotenv] Saved a snapshot of [32mENV[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 08:46:37 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 3.9ms (1 query, 0 cached) | GC: 2.7ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_56"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:22:05.102078"], ["updated_at", "2025-07-22 06:22:05.102078"], ["username", "testuser_56"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "other"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_10"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:22:05.127638"], ["updated_at", "2025-07-22 06:22:05.127638"], ["username", "testuser_10"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_980"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:22:05.134328"], ["updated_at", "2025-07-22 06:22:05.134328"], ["username", "testuser_980"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.7ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "username"=>"newuser"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:23.756434"], ["updated_at", "2025-07-22 06:50:23.756434"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 45ms (ActiveRecord: 7.4ms (4 queries, 0 cached) | GC: 27.2ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"[FILTERED]", "password"=>"[FILTERED]", "username"=>"newuser"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:23.773714"], ["updated_at", "2025-07-22 06:50:23.773714"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_26"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:23.778088"], ["updated_at", "2025-07-22 06:50:23.778088"], ["username", "testuser_26"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (1.4ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 129], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-07-22 06:50:23.790408"], ["updated_at", "2025-07-22 06:50:23.790408"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_495"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:26.445357"], ["updated_at", "2025-07-22 06:50:26.445357"], ["username", "testuser_495"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_521"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:27.784627"], ["updated_at", "2025-07-22 06:50:27.784627"], ["username", "testuser_521"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_925"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:27.806690"], ["updated_at", "2025-07-22 06:50:27.806690"], ["username", "testuser_925"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-22 09:50:27 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-22 09:50:27 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 132], [nil, 132], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 132], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 132], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 132]]
  Rendered hub/index.html.erb within layouts/application (Duration: 10.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 12.7ms | ActiveRecord: 2.8ms (7 queries, 2 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-22 09:50:27 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_642"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:27.845249"], ["updated_at", "2025-07-22 06:50:27.845249"], ["username", "testuser_642"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_475"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:27.855651"], ["updated_at", "2025-07-22 06:50:27.855651"], ["username", "testuser_475"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_156"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:27.863122"], ["updated_at", "2025-07-22 06:50:27.863122"], ["username", "testadmin_156"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-23 06:50:27.870541"], ["event_type", "training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-07-22 06:50:27.870775"], ["updated_at", "2025-07-22 06:50:27.870775"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.8ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_328"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:31.979619"], ["updated_at", "2025-07-22 06:50:31.979619"], ["username", "testuser_328"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_847"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 06:50:31.984861"], ["updated_at", "2025-07-22 06:50:31.984861"], ["username", "testuser_847"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (1.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.9ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.8ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.7ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.7ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.7ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:19:06 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 7.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:19:06 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (1.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:20:11 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.5ms)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:20:11 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:22:18 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 6.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:22:18 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:23:21 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:23:21 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:24:14 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.5ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.6ms)
Completed 200 OK in 14ms (Views: 8.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:24:14 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:25:09 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.6ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | GC: 1.3ms)
Completed 200 OK in 27ms (Views: 15.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.3ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:25:09 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:26:28 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 8.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:26:28 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.7ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:26:48 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:26:48 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:28:24 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 7.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:28:25 +0300
Started GET "/signup" for 127.0.0.1 at 2025-07-22 10:28:31 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 2.4ms | ActiveRecord: 2.5ms (0 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:29:47 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 11.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:29:47 +0300
Started GET "/signup" for 127.0.0.1 at 2025-07-22 10:29:53 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 2.6ms | ActiveRecord: 3.8ms (0 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:31:04 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 7.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:31:04 +0300
Started GET "/signup" for 127.0.0.1 at 2025-07-22 10:31:10 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 2.2ms | ActiveRecord: 3.7ms (0 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:35:44 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 6.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:35:44 +0300
Started GET "/signup" for 127.0.0.1 at 2025-07-22 10:35:46 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 2.6ms | ActiveRecord: 3.6ms (0 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (1.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (1.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:37:03 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:37:03 +0300
Started GET "/signup" for 127.0.0.1 at 2025-07-22 10:37:06 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 2.4ms | ActiveRecord: 2.8ms (0 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:40:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 6.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:40:02 +0300
Started GET "/signup" for 127.0.0.1 at 2025-07-22 10:40:05 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 2.4ms | ActiveRecord: 3.5ms (0 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.7ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.7ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-22 10:42:41 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.7ms)
Completed 200 OK in 13ms (Views: 7.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.2ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:42:41 +0300
Started GET "/signup" for 127.0.0.1 at 2025-07-22 10:42:44 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 3.6ms | ActiveRecord: 3.7ms (0 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, and [36mDATABASE_PORT[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (1.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (1.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-22 10:54:49 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 8.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-22 10:54:49 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_871"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-22 07:54:50.820250"], ["updated_at", "2025-07-22 07:54:50.820250"], ["username", "testuser_871"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (37.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "rails_version_test"[0m
  [1m[35m (80.1ms)[0m  [1m[35mCREATE DATABASE "rails_version_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (18.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "events" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "events" ("id" bigserial primary key, "datetime" timestamp(6) NOT NULL, "event_type" character varying NOT NULL, "location" character varying, "notes" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_events_on_datetime" ON "events" ("datetime")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_events_on_event_type" ON "events" ("event_type")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "finances" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "finances" ("id" bigserial primary key, "user_id" bigint NOT NULL, "amount" decimal(10,2) NOT NULL, "notes" text, "transaction_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "payer_id" bigint, "payee_id" bigint)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_finances_on_created_at" ON "finances" ("created_at")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_finances_on_payee_id" ON "finances" ("payee_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_finances_on_payer_id" ON "finances" ("payer_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_finances_on_transaction_type" ON "finances" ("transaction_type")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_finances_on_user_id" ON "finances" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "username" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying, "access_level" character varying DEFAULT 'player' NOT NULL, "position" character varying, "chain" character varying, "car" boolean DEFAULT FALSE NOT NULL, "location" character varying, "balance" decimal(10,2) DEFAULT -100.0 NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_access_level" ON "users" ("access_level")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "finances" ADD CONSTRAINT "fk_rails_9740b85de3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "finances" ADD CONSTRAINT "fk_rails_578386baa4"
FOREIGN KEY ("payee_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "finances" ADD CONSTRAINT "fk_rails_9e35635ca3"
FOREIGN KEY ("payer_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250714074222)[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250714041551),
(20250710094935),
(20250709044448),
(20250708094512),
(20250708000000),
(20250707115700),
(20250707093431),
(20250707092040),
(20250703092021);[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-07-24 07:47:50.538617', '2025-07-24 07:47:50.538620') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'edb8a716879239ab16c5c6f86a4eaeee12e37e6c', '2025-07-24 07:47:50.540428', '2025-07-24 07:47:50.540430') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.7ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.8ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 07:48:14.288966"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-07-24 07:48:14.289678"], ["updated_at", "2025-07-24 07:48:14.289678"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_715"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:58:12.467859"], ["updated_at", "2025-07-24 07:58:12.467859"], ["username", "testuser_715"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.5ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 1], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-07-24 07:58:12.469531"], ["updated_at", "2025-07-24 07:58:12.469531"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_56"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:58:12.490198"], ["updated_at", "2025-07-24 07:58:12.490198"], ["username", "testuser_56"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 10:58:13 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.5ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.1ms)
Completed 200 OK in 15ms (Views: 8.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 10:58:13 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 10:58:28 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 10:58:28 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 10:58:28 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 10:58:44 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_237"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:58:44.255759"], ["updated_at", "2025-07-24 07:58:44.255759"], ["username", "testuser_237"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 10:58:59 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_525"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:59:14.863680"], ["updated_at", "2025-07-24 07:59:14.863680"], ["username", "testuser_525"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 10:59:14 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 10:59:14 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 4], [nil, 4], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 4], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 4], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 4]]
  Rendered hub/index.html.erb within layouts/application (Duration: 10.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | GC: 0.2ms)
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 2.5ms (7 queries, 2 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 10:59:14 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_739"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:59:14.899175"], ["updated_at", "2025-07-24 07:59:14.899175"], ["username", "testuser_739"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_402"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:59:14.913675"], ["updated_at", "2025-07-24 07:59:14.913675"], ["username", "testuser_402"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFinance Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"6", "redirect_to"=>"/hub", "user_id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.4ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 6]]
  [1m[36mFinance Create (0.4ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 6], ["amount", "-10.5"], ["notes", "Payment to testuser_402: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 07:59:14.922208"], ["updated_at", "2025-07-24 07:59:14.922208"], ["payer_id", 6], ["payee_id", 6]]
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 6]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 6], ["amount", "10.5"], ["notes", "Payment from testuser_402: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 07:59:14.924212"], ["updated_at", "2025-07-24 07:59:14.924212"], ["payer_id", 6], ["payee_id", 6]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 8ms (ActiveRecord: 1.8ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mFinance Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_759"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:59:14.929159"], ["updated_at", "2025-07-24 07:59:14.929159"], ["username", "testuser_759"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"7", "redirect_to"=>"/hub", "user_id"=>"7"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.7ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 7]]
  [1m[36mFinance Create (0.4ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 7], ["amount", "-10.5"], ["notes", "Payment to testuser_759: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 07:59:14.938659"], ["updated_at", "2025-07-24 07:59:14.938659"], ["payer_id", 7], ["payee_id", 7]]
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 7]]
  [1m[36mFinance Create (0.4ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 7], ["amount", "10.5"], ["notes", "Payment from testuser_759: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 07:59:14.941115"], ["updated_at", "2025-07-24 07:59:14.941115"], ["payer_id", 7], ["payee_id", 7]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 8ms (ActiveRecord: 2.4ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 10:59:14 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.4ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_936"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:59:16.000800"], ["updated_at", "2025-07-24 07:59:16.000800"], ["username", "testuser_936"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 10:59:18 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 10:59:18 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 8], [nil, 8], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 8], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 8], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 8]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.2ms)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 1.6ms (7 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-24 10:59:22 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-07-24 10:59:24 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007699fc7c6908>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:59:50.886613"], ["updated_at", "2025-07-24 07:59:50.886613"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 6ms (ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007699fc895d20>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:59:50.892930"], ["updated_at", "2025-07-24 07:59:50.892930"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 3ms (ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 07:59:50.903237"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-07-24 07:59:50.903985"], ["updated_at", "2025-07-24 07:59:50.903985"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_60"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:59:50.913953"], ["updated_at", "2025-07-24 07:59:50.913953"], ["username", "testadmin_60"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 07:59:50 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 07:59:50"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-24 07:59:50.919514"], ["updated_at", "2025-07-24 07:59:50.919514"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 2ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_273"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:59:50.925662"], ["updated_at", "2025-07-24 07:59:50.925662"], ["username", "testuser_273"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 07:59:50 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_942"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 07:59:50.932362"], ["updated_at", "2025-07-24 07:59:50.932362"], ["username", "testuser_942"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 07:59:50 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 27ms (ActiveRecord: 2.8ms (1 query, 0 cached) | GC: 19.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_758"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:40:08.658654"], ["updated_at", "2025-07-24 08:40:08.658654"], ["username", "testuser_758"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 08:40:08.676444"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-07-24 08:40:08.676659"], ["updated_at", "2025-07-24 08:40:08.676659"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:40:09 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 11:40:09 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_922"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:40:09.720823"], ["updated_at", "2025-07-24 08:40:09.720823"], ["username", "testuser_922"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:40:24 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:40:40 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_61"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:40:55.565532"], ["updated_at", "2025-07-24 08:40:55.565532"], ["username", "testuser_61"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 11:40:55 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:40:55 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 16], [nil, 16], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 16], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 16], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 16]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 1.0ms (7 queries, 2 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:40:55 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_319"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:40:55.597094"], ["updated_at", "2025-07-24 08:40:55.597094"], ["username", "testuser_319"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"17", "redirect_to"=>"/hub", "user_id"=>"17"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.6ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 17]]
  [1m[36mFinance Create (0.6ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 17], ["amount", "-10.5"], ["notes", "Payment to testuser_319: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 08:40:55.615844"], ["updated_at", "2025-07-24 08:40:55.615844"], ["payer_id", 17], ["payee_id", 17]]
  [1m[36mUser Update All (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 17]]
  [1m[36mFinance Create (0.4ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 17], ["amount", "10.5"], ["notes", "Payment from testuser_319: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 08:40:55.618586"], ["updated_at", "2025-07-24 08:40:55.618586"], ["payer_id", 17], ["payee_id", 17]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 16ms (ActiveRecord: 3.5ms (6 queries, 1 cached) | GC: 1.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_181"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:40:55.626649"], ["updated_at", "2025-07-24 08:40:55.626649"], ["username", "testuser_181"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFinance Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"18", "redirect_to"=>"/hub", "user_id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.4ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 18]]
  [1m[36mFinance Create (0.3ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 18], ["amount", "-10.5"], ["notes", "Payment to testuser_181: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 08:40:55.633844"], ["updated_at", "2025-07-24 08:40:55.633844"], ["payer_id", 18], ["payee_id", 18]]
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 18]]
  [1m[36mFinance Create (0.3ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 18], ["amount", "10.5"], ["notes", "Payment from testuser_181: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 08:40:55.636059"], ["updated_at", "2025-07-24 08:40:55.636059"], ["payer_id", 18], ["payee_id", 18]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 7ms (ActiveRecord: 1.6ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mFinance Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_962"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:40:55.644124"], ["updated_at", "2025-07-24 08:40:55.644124"], ["username", "testuser_962"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.4ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 19], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-07-24 08:40:55.645581"], ["updated_at", "2025-07-24 08:40:55.645581"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007b8b6b44cc68>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:40:55.663518"], ["updated_at", "2025-07-24 08:40:55.663518"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 7ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007b8b6b4d9898>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:40:55.673613"], ["updated_at", "2025-07-24 08:40:55.673613"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 5ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_261"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:40:55.690990"], ["updated_at", "2025-07-24 08:40:55.690990"], ["username", "testuser_261"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:40:55 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:41:11 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:41:11 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_623"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:41:11.113276"], ["updated_at", "2025-07-24 08:41:11.113276"], ["username", "testadmin_623"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 08:41:11 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 08:41:11"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-24 08:41:11.119208"], ["updated_at", "2025-07-24 08:41:11.119208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 3ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_453"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:41:11.126685"], ["updated_at", "2025-07-24 08:41:11.126685"], ["username", "testuser_453"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 08:41:11 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_58"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:41:11.134117"], ["updated_at", "2025-07-24 08:41:11.134117"], ["username", "testuser_58"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 08:41:11 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:41:11 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (5.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_712"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:41:12.195801"], ["updated_at", "2025-07-24 08:41:12.195801"], ["username", "testuser_712"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 11:41:14 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:41:14 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 26], [nil, 26], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 26], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 26], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 26]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.7ms (7 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-24 11:41:18 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-07-24 11:41:20 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:53:15 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 7.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 11:53:15 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:53:31 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:53:46 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_747"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:53:46.560844"], ["updated_at", "2025-07-24 08:53:46.560844"], ["username", "testuser_747"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:56:28 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 7.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 11:56:28 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_775"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:56:28.724761"], ["updated_at", "2025-07-24 08:56:28.724761"], ["username", "testuser_775"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 11:56:28 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:56:28 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 28], [nil, 28], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 28], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 28], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 28]]
  Rendered hub/index.html.erb within layouts/application (Duration: 18.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 17.2ms | ActiveRecord: 5.1ms (7 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:56:29 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-07-24 11:56:29 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:56:29 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_827"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:56:37.284030"], ["updated_at", "2025-07-24 08:56:37.284030"], ["username", "testuser_827"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:56:38 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.4ms)
Completed 200 OK in 13ms (Views: 7.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 11:56:38 +0300
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:56:38 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-07-24 11:56:38 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:56:38 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 29], [nil, 29], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 29], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 29], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 29]]
  Rendered hub/index.html.erb within layouts/application (Duration: 9.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 8.7ms | ActiveRecord: 3.8ms (7 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:56:38 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:56:38 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 20.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 18.6ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:56:38 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.7ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_346"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:56:39.833816"], ["updated_at", "2025-07-24 08:56:39.833816"], ["username", "testuser_346"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 11:56:42 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:56:42 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 30], [nil, 30], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 30], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 30], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 30]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-24 11:56:46 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-07-24 11:56:48 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.2ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_151"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:14.781465"], ["updated_at", "2025-07-24 08:57:14.781465"], ["username", "testuser_151"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.3ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 31], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-07-24 08:57:14.782504"], ["updated_at", "2025-07-24 08:57:14.782504"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:57:14 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:57:14 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_732"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:15.013389"], ["updated_at", "2025-07-24 08:57:15.013389"], ["username", "testuser_732"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 11:57:15 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:57:15 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 32], [nil, 32], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 32], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 32], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 32]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 1.3ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 11:57:15 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-07-24 11:57:15 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 6ms (Views: 1.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 3.7ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:57:15 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_583"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:15.624943"], ["updated_at", "2025-07-24 08:57:15.624943"], ["username", "testuser_583"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 11:57:15 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 11:57:15 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 33], [nil, 33], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 33], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 33], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 33]]
  Rendered hub/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.8ms (7 queries, 2 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 08:57:15.642938"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-07-24 08:57:15.643343"], ["updated_at", "2025-07-24 08:57:15.643343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_276"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:15.655770"], ["updated_at", "2025-07-24 08:57:15.655770"], ["username", "testuser_276"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_51"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:15.670321"], ["updated_at", "2025-07-24 08:57:15.670321"], ["username", "testuser_51"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 08:57:15 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_164"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:15.677288"], ["updated_at", "2025-07-24 08:57:15.677288"], ["username", "testuser_164"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 08:57:15 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_451"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:15.683733"], ["updated_at", "2025-07-24 08:57:15.683733"], ["username", "testadmin_451"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 08:57:15 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 08:57:15"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-24 08:57:15.686207"], ["updated_at", "2025-07-24 08:57:15.686207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_293"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:15.693362"], ["updated_at", "2025-07-24 08:57:15.693362"], ["username", "testuser_293"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFinance Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"38", "redirect_to"=>"/hub", "user_id"=>"38"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.5ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 38]]
  [1m[36mFinance Create (0.5ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 38], ["amount", "-10.5"], ["notes", "Payment to testuser_293: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 08:57:15.702216"], ["updated_at", "2025-07-24 08:57:15.702216"], ["payer_id", 38], ["payee_id", 38]]
  [1m[36mUser Update All (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 38]]
  [1m[36mFinance Create (0.3ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 38], ["amount", "10.5"], ["notes", "Payment from testuser_293: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 08:57:15.704627"], ["updated_at", "2025-07-24 08:57:15.704627"], ["payer_id", 38], ["payee_id", 38]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 8ms (ActiveRecord: 2.0ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mFinance Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_458"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:15.711745"], ["updated_at", "2025-07-24 08:57:15.711745"], ["username", "testuser_458"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"39", "redirect_to"=>"/hub", "user_id"=>"39"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 39]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 39], ["amount", "-10.5"], ["notes", "Payment to testuser_458: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 08:57:15.714491"], ["updated_at", "2025-07-24 08:57:15.714491"], ["payer_id", 39], ["payee_id", 39]]
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 39]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 39], ["amount", "10.5"], ["notes", "Payment from testuser_458: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 08:57:15.716084"], ["updated_at", "2025-07-24 08:57:15.716084"], ["payer_id", 39], ["payee_id", 39]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 4ms (ActiveRecord: 1.0ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007c1829b6b198>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:15.722313"], ["updated_at", "2025-07-24 08:57:15.722313"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 3ms (ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007c182afa7c60>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 08:57:15.737621"], ["updated_at", "2025-07-24 08:57:15.737621"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 5ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:02:34 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 8.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 12:02:34 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_529"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:02:35.460920"], ["updated_at", "2025-07-24 09:02:35.460920"], ["username", "testuser_529"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:02:37 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:02:37 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 42], [nil, 42], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 42], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 42], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 42]]
  Rendered hub/index.html.erb within layouts/application (Duration: 10.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 9.5ms | ActiveRecord: 4.0ms (7 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-24 12:02:41 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-07-24 12:02:43 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.7ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-24 12:04:19 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 12:04:19 +0300
Started GET "/signup" for 127.0.0.1 at 2025-07-24 12:04:21 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 2.2ms | ActiveRecord: 3.7ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2025-07-24 12:04:32 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x000074791d7d0018>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:04:32.887998"], ["updated_at", "2025-07-24 09:04:32.887998"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 9ms (ActiveRecord: 2.0ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:04:32 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:04:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_494"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:04:34.058216"], ["updated_at", "2025-07-24 09:04:34.058216"], ["username", "testuser_494"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:04:36 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:04:36 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.8ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 44], [nil, 44], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 44], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 44], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 44]]
  Rendered hub/index.html.erb within layouts/application (Duration: 20.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 18.1ms | ActiveRecord: 5.8ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_354"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:13.309518"], ["updated_at", "2025-07-24 09:12:13.309518"], ["username", "testuser_354"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.4ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 45], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-07-24 09:12:13.311561"], ["updated_at", "2025-07-24 09:12:13.311561"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_739"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:13.316467"], ["updated_at", "2025-07-24 09:12:13.316467"], ["username", "testuser_739"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"46", "redirect_to"=>"/hub", "user_id"=>"46"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (1.0ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 46]]
  [1m[36mFinance Create (0.8ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 46], ["amount", "-10.5"], ["notes", "Payment to testuser_739: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 09:12:13.338833"], ["updated_at", "2025-07-24 09:12:13.338833"], ["payer_id", 46], ["payee_id", 46]]
  [1m[36mUser Update All (0.4ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 46]]
  [1m[36mFinance Create (0.6ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 46], ["amount", "10.5"], ["notes", "Payment from testuser_739: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 09:12:13.342377"], ["updated_at", "2025-07-24 09:12:13.342377"], ["payer_id", 46], ["payee_id", 46]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 15ms (ActiveRecord: 3.8ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_151"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:13.350060"], ["updated_at", "2025-07-24 09:12:13.350060"], ["username", "testuser_151"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFinance Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"47", "redirect_to"=>"/hub", "user_id"=>"47"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.7ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 47]]
  [1m[36mFinance Create (0.7ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 47], ["amount", "-10.5"], ["notes", "Payment to testuser_151: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 09:12:13.356105"], ["updated_at", "2025-07-24 09:12:13.356105"], ["payer_id", 47], ["payee_id", 47]]
  [1m[36mUser Update All (0.4ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 47]]
  [1m[36mFinance Create (0.8ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 47], ["amount", "10.5"], ["notes", "Payment from testuser_151: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 09:12:13.358596"], ["updated_at", "2025-07-24 09:12:13.358596"], ["payer_id", 47], ["payee_id", 47]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 7ms (ActiveRecord: 3.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mFinance Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-24 12:12:14 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.8ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.4ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 12:12:14 +0300
Started GET "/signup" for 127.0.0.1 at 2025-07-24 12:12:16 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2025-07-24 12:12:27 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007104f6934240>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:27.869181"], ["updated_at", "2025-07-24 09:12:27.869181"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 8ms (ActiveRecord: 1.7ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:12:27 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:12:28 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_394"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:29.039820"], ["updated_at", "2025-07-24 09:12:29.039820"], ["username", "testuser_394"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:12:31 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:12:31 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 49], [nil, 49], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 49], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 49], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 49]]
  Rendered hub/index.html.erb within layouts/application (Duration: 18.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 16.3ms | ActiveRecord: 4.2ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_603"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:35.383786"], ["updated_at", "2025-07-24 09:12:35.383786"], ["username", "testuser_603"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_361"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:35.396200"], ["updated_at", "2025-07-24 09:12:35.396200"], ["username", "testuser_361"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:12:35 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:12:35 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 51], [nil, 51], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 51], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 51], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 51]]
  Rendered hub/index.html.erb within layouts/application (Duration: 5.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 1.2ms (7 queries, 2 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:12:35 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 09:12:35.418181"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-07-24 09:12:35.418709"], ["updated_at", "2025-07-24 09:12:35.418709"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_506"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:35.427100"], ["updated_at", "2025-07-24 09:12:35.427100"], ["username", "testadmin_506"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 09:12:35 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 09:12:35"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-24 09:12:35.430012"], ["updated_at", "2025-07-24 09:12:35.430012"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_536"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:35.434529"], ["updated_at", "2025-07-24 09:12:35.434529"], ["username", "testuser_536"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 09:12:35 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_282"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:35.440413"], ["updated_at", "2025-07-24 09:12:35.440413"], ["username", "testuser_282"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 09:12:35 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:12:35 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:12:35 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_751"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:35.556765"], ["updated_at", "2025-07-24 09:12:35.556765"], ["username", "testuser_751"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:12:35 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:12:35 +0300
Processing by HubController#index as HTML
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:12:35 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.9ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:12:35 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 55], [nil, 55], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 55], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 55], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 55]]
  Rendered hub/index.html.erb within layouts/application (Duration: 7.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 1.5ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:12:35 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:12:36 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:12:36 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:12:36 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_793"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:36.417422"], ["updated_at", "2025-07-24 09:12:36.417422"], ["username", "testuser_793"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:12:36 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:12:36 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 56], [nil, 56], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 56], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 56], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 56]]
  Rendered hub/index.html.erb within layouts/application (Duration: 8.9ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 1.3ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 1.7ms (7 queries, 0 cached) | GC: 1.3ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007104d7ce2780>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:36.738879"], ["updated_at", "2025-07-24 09:12:36.738879"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 8ms (ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 0.8ms)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007104d77ff970>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:12:36.749586"], ["updated_at", "2025-07-24 09:12:36.749586"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 5ms (ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_852"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:31.947312"], ["updated_at", "2025-07-24 09:38:31.947312"], ["username", "testuser_852"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 1.9ms | ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 1.2ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_421"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:32.002953"], ["updated_at", "2025-07-24 09:38:32.002953"], ["username", "testuser_421"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:38:32 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:38:32 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 60], [nil, 60], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 60], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 60], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 60]]
  Rendered hub/index.html.erb within layouts/application (Duration: 10.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | GC: 0.4ms)
Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 1.7ms (7 queries, 2 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:38:32 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_912"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:32.038590"], ["updated_at", "2025-07-24 09:38:32.038590"], ["username", "testuser_912"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:38:32 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 12:38:32 +0300
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:38:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:38:33 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:38:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 61], [nil, 61], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 61], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 61], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 61]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.6ms (7 queries, 0 cached) | GC: 0.1ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:38:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:38:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_678"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:33.305290"], ["updated_at", "2025-07-24 09:38:33.305290"], ["username", "testuser_678"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"62", "redirect_to"=>"/hub", "user_id"=>"62"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.6ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 62]]
  [1m[36mFinance Create (0.9ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 62], ["amount", "-10.5"], ["notes", "Payment to testuser_678: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 09:38:33.339426"], ["updated_at", "2025-07-24 09:38:33.339426"], ["payer_id", 62], ["payee_id", 62]]
  [1m[36mUser Update All (0.5ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 62]]
  [1m[36mFinance Create (0.6ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 62], ["amount", "10.5"], ["notes", "Payment from testuser_678: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 09:38:33.349937"], ["updated_at", "2025-07-24 09:38:33.349937"], ["payer_id", 62], ["payee_id", 62]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 45ms (ActiveRecord: 4.3ms (6 queries, 1 cached) | GC: 27.9ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_486"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:33.371190"], ["updated_at", "2025-07-24 09:38:33.371190"], ["username", "testuser_486"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFinance Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"63", "redirect_to"=>"/hub", "user_id"=>"63"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (1.9ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 63]]
  [1m[36mFinance Create (1.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 63], ["amount", "-10.5"], ["notes", "Payment to testuser_486: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 09:38:33.384854"], ["updated_at", "2025-07-24 09:38:33.384854"], ["payer_id", 63], ["payee_id", 63]]
  [1m[36mUser Update All (0.1ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 63]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 63], ["amount", "10.5"], ["notes", "Payment from testuser_486: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 09:38:33.387784"], ["updated_at", "2025-07-24 09:38:33.387784"], ["payer_id", 63], ["payee_id", 63]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 10ms (ActiveRecord: 3.8ms (6 queries, 1 cached) | GC: 5.3ms)
  [1m[36mFinance Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_747"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:33.416280"], ["updated_at", "2025-07-24 09:38:33.416280"], ["username", "testuser_747"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.5ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 64], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-07-24 09:38:33.418512"], ["updated_at", "2025-07-24 09:38:33.418512"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_151"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:33.423686"], ["updated_at", "2025-07-24 09:38:33.423686"], ["username", "testadmin_151"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 09:38:33 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 09:38:33"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-24 09:38:33.427023"], ["updated_at", "2025-07-24 09:38:33.427023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_380"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:33.431420"], ["updated_at", "2025-07-24 09:38:33.431420"], ["username", "testuser_380"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 09:38:33 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_700"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:33.440308"], ["updated_at", "2025-07-24 09:38:33.440308"], ["username", "testuser_700"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 09:38:33 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:38:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:38:33 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:38:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_134"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:33.770034"], ["updated_at", "2025-07-24 09:38:33.770034"], ["username", "testuser_134"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:38:33 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:38:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 68], [nil, 68], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 68], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 68], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 68]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 1.3ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:38:34 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x0000743b20ff9a68>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:34.171869"], ["updated_at", "2025-07-24 09:38:34.171869"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 6ms (ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 0.3ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x0000743b210233e0>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:34.183508"], ["updated_at", "2025-07-24 09:38:34.183508"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 6ms (ActiveRecord: 1.7ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:38:34 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_205"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:35.229126"], ["updated_at", "2025-07-24 09:38:35.229126"], ["username", "testuser_205"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:38:37 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:38:37 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 71], [nil, 71], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 71], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 71], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 71]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.4ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 1.3ms (7 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-24 12:38:41 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-07-24 12:38:43 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2025-07-24 12:38:56 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x0000743b22bc6908>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:38:56.056052"], ["updated_at", "2025-07-24 09:38:56.056052"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 7ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:38:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 09:38:56.173946"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-07-24 09:38:56.174203"], ["updated_at", "2025-07-24 09:38:56.174203"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 09:57:41.725202"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-07-24 09:57:41.725588"], ["updated_at", "2025-07-24 09:57:41.725588"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_2"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:57:41.736781"], ["updated_at", "2025-07-24 09:57:41.736781"], ["username", "testuser_2"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 09:57:41 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_36"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:57:41.759131"], ["updated_at", "2025-07-24 09:57:41.759131"], ["username", "testuser_36"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 09:57:41 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_904"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:57:41.764564"], ["updated_at", "2025-07-24 09:57:41.764564"], ["username", "testadmin_904"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 09:57:41 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 09:57:41"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-24 09:57:41.766931"], ["updated_at", "2025-07-24 09:57:41.766931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_407"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:57:41.771162"], ["updated_at", "2025-07-24 09:57:41.771162"], ["username", "testuser_407"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:57:41 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:57:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 76], [nil, 76], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 76], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 76], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 76]]
  Rendered hub/index.html.erb within layouts/application (Duration: 26.7ms | GC: 18.6ms)
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | GC: 19.2ms)
Completed 200 OK in 36ms (Views: 29.5ms | ActiveRecord: 2.8ms (7 queries, 2 cached) | GC: 19.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:57:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x0000739e3fdd0468>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:57:41.826451"], ["updated_at", "2025-07-24 09:57:41.826451"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 4ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x0000739e3ff85c90>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:57:41.834374"], ["updated_at", "2025-07-24 09:57:41.834374"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 4ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_539"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:57:41.839049"], ["updated_at", "2025-07-24 09:57:41.839049"], ["username", "testuser_539"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFinance Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"79", "redirect_to"=>"/hub", "user_id"=>"79"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (1.1ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 79]]
  [1m[36mFinance Create (1.0ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 79], ["amount", "-10.5"], ["notes", "Payment to testuser_539: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 09:57:41.871283"], ["updated_at", "2025-07-24 09:57:41.871283"], ["payer_id", 79], ["payee_id", 79]]
  [1m[36mUser Update All (0.6ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 79]]
  [1m[36mFinance Create (0.7ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 79], ["amount", "10.5"], ["notes", "Payment from testuser_539: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 09:57:41.878478"], ["updated_at", "2025-07-24 09:57:41.878478"], ["payer_id", 79], ["payee_id", 79]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 44ms (ActiveRecord: 5.7ms (6 queries, 1 cached) | GC: 25.0ms)
  [1m[36mFinance Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_823"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:57:41.903057"], ["updated_at", "2025-07-24 09:57:41.903057"], ["username", "testuser_823"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"80", "redirect_to"=>"/hub", "user_id"=>"80"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 80]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 80], ["amount", "-10.5"], ["notes", "Payment to testuser_823: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 09:57:41.913210"], ["updated_at", "2025-07-24 09:57:41.913210"], ["payer_id", 80], ["payee_id", 80]]
  [1m[36mUser Update All (0.1ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 80]]
  [1m[36mFinance Create (0.3ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 80], ["amount", "10.5"], ["notes", "Payment from testuser_823: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 09:57:41.918948"], ["updated_at", "2025-07-24 09:57:41.918948"], ["payer_id", 80], ["payee_id", 80]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 13ms (ActiveRecord: 1.2ms (6 queries, 1 cached) | GC: 8.5ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-24 12:57:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 12:57:42 +0300
Started GET "/signup" for 127.0.0.1 at 2025-07-24 12:57:44 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/users" for 127.0.0.1 at 2025-07-24 12:57:57 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x0000739e400750b0>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:57:57.194344"], ["updated_at", "2025-07-24 09:57:57.194344"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 7ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:57:57 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:57:57 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_749"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:57:58.343619"], ["updated_at", "2025-07-24 09:57:58.343619"], ["username", "testuser_749"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:58:00 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:58:00 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 82], [nil, 82], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 82], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 82], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 82]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.6ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_806"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:58:04.631230"], ["updated_at", "2025-07-24 09:58:04.631230"], ["username", "testuser_806"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:58:04 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:58:04 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:58:04 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:58:04 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:58:04 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 83], [nil, 83], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 83], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 83], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 83]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.3ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:58:04 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:58:04 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_425"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:58:05.058844"], ["updated_at", "2025-07-24 09:58:05.058844"], ["username", "testuser_425"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.5ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 84], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-07-24 09:58:05.060750"], ["updated_at", "2025-07-24 09:58:05.060750"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_501"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:58:05.070197"], ["updated_at", "2025-07-24 09:58:05.070197"], ["username", "testuser_501"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:58:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:58:05 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 20ms (Views: 1.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 17.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:58:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_127"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 09:58:05.394750"], ["updated_at", "2025-07-24 09:58:05.394750"], ["username", "testuser_127"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 12:58:05 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 12:58:05 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 86], [nil, 86], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 86], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 86], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 86]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.2ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 12:58:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.7ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 27ms (ActiveRecord: 2.5ms (1 query, 0 cached) | GC: 19.7ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_34"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:19:41.232855"], ["updated_at", "2025-07-24 10:19:41.232855"], ["username", "testuser_34"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 1.2ms (1 query, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007973dc0905a0>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:19:41.251918"], ["updated_at", "2025-07-24 10:19:41.251918"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 6ms (ActiveRecord: 2.1ms (4 queries, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007973dc136720>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:19:41.266665"], ["updated_at", "2025-07-24 10:19:41.266665"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 7ms (ActiveRecord: 2.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_890"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:19:41.274364"], ["updated_at", "2025-07-24 10:19:41.274364"], ["username", "testuser_890"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.5ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 90], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-07-24 10:19:41.279293"], ["updated_at", "2025-07-24 10:19:41.279293"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_455"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:19:41.287429"], ["updated_at", "2025-07-24 10:19:41.287429"], ["username", "testuser_455"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mFinance Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"91", "redirect_to"=>"/hub", "user_id"=>"91"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.9ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 91]]
  [1m[36mFinance Create (1.3ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 91], ["amount", "-10.5"], ["notes", "Payment to testuser_455: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 10:19:41.294720"], ["updated_at", "2025-07-24 10:19:41.294720"], ["payer_id", 91], ["payee_id", 91]]
  [1m[36mUser Update All (0.7ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 91]]
  [1m[36mFinance Create (0.7ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 91], ["amount", "10.5"], ["notes", "Payment from testuser_455: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 10:19:41.299252"], ["updated_at", "2025-07-24 10:19:41.299252"], ["payer_id", 91], ["payee_id", 91]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 12ms (ActiveRecord: 4.0ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mFinance Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_512"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:19:41.308266"], ["updated_at", "2025-07-24 10:19:41.308266"], ["username", "testuser_512"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"92", "redirect_to"=>"/hub", "user_id"=>"92"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 92]]
  [1m[36mFinance Create (0.1ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 92], ["amount", "-10.5"], ["notes", "Payment to testuser_512: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-24 10:19:41.311129"], ["updated_at", "2025-07-24 10:19:41.311129"], ["payer_id", 92], ["payee_id", 92]]
  [1m[36mUser Update All (0.1ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 92]]
  [1m[36mFinance Create (0.1ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 92], ["amount", "10.5"], ["notes", "Payment from testuser_512: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-24 10:19:41.312135"], ["updated_at", "2025-07-24 10:19:41.312135"], ["payer_id", 92], ["payee_id", 92]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 3ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 13:19:41 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | GC: 18.4ms)
Completed 200 OK in 25ms (Views: 24.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 18.4ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-24 13:19:41 +0300
Started POST "/login" for 127.0.0.1 at 2025-07-24 13:19:42 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 4ms (Views: 1.8ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.3ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 13:19:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_767"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:19:42.957511"], ["updated_at", "2025-07-24 10:19:42.957511"], ["username", "testuser_767"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 13:19:43 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 5ms (ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 2.1ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 13:19:43 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 93], [nil, 93], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 93], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 93], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 93]]
  Rendered hub/index.html.erb within layouts/application (Duration: 41.8ms | GC: 29.0ms)
  Rendered layout layouts/application.html.erb (Duration: 42.1ms | GC: 29.0ms)
Completed 200 OK in 52ms (Views: 40.0ms | ActiveRecord: 2.9ms (7 queries, 0 cached) | GC: 35.1ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 13:19:43 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-24 13:19:43 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-07-24 13:19:45 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2025-07-24 13:19:57 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007973dda93a38>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:19:57.984051"], ["updated_at", "2025-07-24 10:19:57.984051"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 7ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 13:19:57 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 13:19:58 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_437"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:19:59.124851"], ["updated_at", "2025-07-24 10:19:59.124851"], ["username", "testuser_437"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 13:20:01 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 13:20:01 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 95], [nil, 95], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 95], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 95], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 95]]
  Rendered hub/index.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_653"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:20:05.454187"], ["updated_at", "2025-07-24 10:20:05.454187"], ["username", "testadmin_653"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 10:20:05 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 10:20:05"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-24 10:20:05.459553"], ["updated_at", "2025-07-24 10:20:05.459553"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 3ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_870"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:20:05.465830"], ["updated_at", "2025-07-24 10:20:05.465830"], ["username", "testuser_870"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 10:20:05 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_274"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:20:05.477577"], ["updated_at", "2025-07-24 10:20:05.477577"], ["username", "testuser_274"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-25 10:20:05 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_928"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:20:05.490987"], ["updated_at", "2025-07-24 10:20:05.490987"], ["username", "testuser_928"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-24 13:20:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 13:20:05 +0300
Processing by HubController#index as HTML
Started POST "/login" for 127.0.0.1 at 2025-07-24 13:20:05 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 5ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 13:20:05 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 99], [nil, 99], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 99], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 99], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 99]]
  Rendered hub/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 1.2ms (7 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 13:20:05 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.2ms)
Started GET "/login" for 127.0.0.1 at 2025-07-24 13:20:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_598"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-24 10:20:05.912678"], ["updated_at", "2025-07-24 10:20:05.912678"], ["username", "testuser_598"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-24 13:20:05 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-24 13:20:05 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 100], [nil, 100], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 100], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 100], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 100]]
  Rendered hub/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms (7 queries, 2 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-24 13:20:05 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-25 10:20:05.929866"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-07-24 10:20:05.930099"], ["updated_at", "2025-07-24 10:20:05.930099"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (28.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.8ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.9ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:57:25 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 9.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 07:57:25 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_862"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:57:25.462887"], ["updated_at", "2025-07-25 04:57:25.462887"], ["username", "testuser_862"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 07:57:25 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 6ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 1.3ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 07:57:25 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 101], [nil, 101], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 101], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 101], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 101]]
  Rendered hub/index.html.erb within layouts/application (Duration: 19.8ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | GC: 0.8ms)
Completed 200 OK in 31ms (Views: 18.5ms | ActiveRecord: 5.2ms (7 queries, 0 cached) | GC: 1.4ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:57:25 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.9ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 2.5ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 4.1ms)
Started POST "/login" for 127.0.0.1 at 2025-07-25 07:57:26 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:57:26 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.1ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_289"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:58:13.072667"], ["updated_at", "2025-07-25 04:58:13.072667"], ["username", "testuser_289"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-26 04:58:13 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_427"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:58:13.111557"], ["updated_at", "2025-07-25 04:58:13.111557"], ["username", "testuser_427"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-26 04:58:13 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_86"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:58:13.122580"], ["updated_at", "2025-07-25 04:58:13.122580"], ["username", "testadmin_86"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-07-26 04:58:13 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (1.7ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-26 04:58:13"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-07-25 04:58:13.159476"], ["updated_at", "2025-07-25 04:58:13.159476"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 37ms (ActiveRecord: 4.2ms (2 queries, 0 cached) | GC: 26.7ms)
  [1m[36mEvent Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:58:13 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.5ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 07:58:13 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:58:14 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_286"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:58:14.171250"], ["updated_at", "2025-07-25 04:58:14.171250"], ["username", "testuser_286"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 07:58:14 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 07:58:14 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 105], [nil, 105], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 105], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 105], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 105]]
  Rendered hub/index.html.erb within layouts/application (Duration: 7.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 8.2ms | ActiveRecord: 2.0ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:58:14 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-07-25 07:58:14 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_738"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:58:14.803894"], ["updated_at", "2025-07-25 04:58:14.803894"], ["username", "testuser_738"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (1.6ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 106], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-07-25 04:58:14.812911"], ["updated_at", "2025-07-25 04:58:14.812911"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_661"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:58:14.835635"], ["updated_at", "2025-07-25 04:58:14.835635"], ["username", "testuser_661"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:58:14 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.2ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_132"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:58:15.892956"], ["updated_at", "2025-07-25 04:58:15.892956"], ["username", "testuser_132"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 07:58:18 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 07:58:18 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 108], [nil, 108], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 108], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 108], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 108]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.2ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-25 07:58:22 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-07-25 07:58:24 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 7.7ms | GC: 6.3ms)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | GC: 7.0ms)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 8.6ms)
Started POST "/users" for 127.0.0.1 at 2025-07-25 07:58:36 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007398893ba520>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:58:36.796488"], ["updated_at", "2025-07-25 04:58:36.796488"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 5ms (ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:58:36 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.5ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-25 07:58:36 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-07-25 07:58:39 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2025-07-25 07:58:51 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007398880f5a20>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:58:51.459554"], ["updated_at", "2025-07-25 04:58:51.459554"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 7ms (ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 0.2ms)
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:58:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:58:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_683"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:58:52.610454"], ["updated_at", "2025-07-25 04:58:52.610454"], ["username", "testuser_683"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 07:58:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 07:58:54 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 111], [nil, 111], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 111], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 111], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 111]]
  Rendered hub/index.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 1.3ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-25 07:58:58 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-07-25 07:59:01 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2025-07-25 07:59:13 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x000073988b0c7460>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (16.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:59:13.377441"], ["updated_at", "2025-07-25 04:59:13.377441"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 24ms (ActiveRecord: 17.8ms (4 queries, 0 cached) | GC: 16.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:59:13 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:59:13 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_357"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:59:14.559959"], ["updated_at", "2025-07-25 04:59:14.559959"], ["username", "testuser_357"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 07:59:16 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 07:59:16 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 113], [nil, 113], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 113], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 113], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 113]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.2ms)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 1.7ms (7 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_502"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:59:20.819470"], ["updated_at", "2025-07-25 04:59:20.819470"], ["username", "testuser_502"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"114", "redirect_to"=>"/hub", "user_id"=>"114"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (2.9ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 114]]
  [1m[36mFinance Create (0.7ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 114], ["amount", "-10.5"], ["notes", "Payment to testuser_502: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-07-25 04:59:20.835115"], ["updated_at", "2025-07-25 04:59:20.835115"], ["payer_id", 114], ["payee_id", 114]]
  [1m[36mUser Update All (0.4ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 114]]
  [1m[36mFinance Create (0.6ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 114], ["amount", "10.5"], ["notes", "Payment from testuser_502: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-07-25 04:59:20.840134"], ["updated_at", "2025-07-25 04:59:20.840134"], ["payer_id", 114], ["payee_id", 114]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 19ms (ActiveRecord: 5.3ms (6 queries, 1 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-25 07:59:20 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:59:20 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_994"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:59:20.977567"], ["updated_at", "2025-07-25 04:59:20.977567"], ["username", "testuser_994"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 07:59:20 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-07-25 07:59:21 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 07:59:21 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 115], [nil, 115], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 115], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 115], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 115]]
  Rendered hub/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.6ms (7 queries, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 07:59:21 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 115], [nil, 115], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 115], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 115], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 115]]
  Rendered hub/index.html.erb within layouts/application (Duration: 8.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 7.7ms | ActiveRecord: 2.0ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-26 04:59:21.313930"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-07-25 04:59:21.314478"], ["updated_at", "2025-07-25 04:59:21.314478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x0000739889425e60>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:59:21.354078"], ["updated_at", "2025-07-25 04:59:21.354078"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 8ms (ActiveRecord: 2.0ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x0000739888039f78>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:59:21.364360"], ["updated_at", "2025-07-25 04:59:21.364360"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 5ms (ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-07-25 07:59:21 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_928"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 04:59:21.375980"], ["updated_at", "2025-07-25 04:59:21.375980"], ["username", "testuser_928"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 07:59:21 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 07:59:21 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 118], [nil, 118], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 118], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 118], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 118]]
  Rendered hub/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.2ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.6ms (7 queries, 2 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 08:02:30 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 6.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 08:02:30 +0300
Started POST "/login" for 127.0.0.1 at 2025-07-25 08:02:31 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 5ms (Views: 0.9ms | ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 08:02:31 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_260"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 05:02:31.321138"], ["updated_at", "2025-07-25 05:02:31.321138"], ["username", "testuser_260"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 08:02:31 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 11ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 7.5ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 08:02:31 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.7ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 119], [nil, 119], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 119], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 119], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 119]]
  Rendered hub/index.html.erb within layouts/application (Duration: 37.3ms | GC: 16.5ms)
  Rendered layout layouts/application.html.erb (Duration: 38.3ms | GC: 16.9ms)
Completed 200 OK in 65ms (Views: 36.6ms | ActiveRecord: 6.0ms (7 queries, 0 cached) | GC: 34.9ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 08:02:31 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 08:05:10 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.4ms)
Completed 200 OK in 12ms (Views: 6.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.2ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 08:05:11 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 08:05:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.4ms)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 08:05:33 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_800"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 05:05:33.251681"], ["updated_at", "2025-07-25 05:05:33.251681"], ["username", "testuser_800"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 08:05:33 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 9ms (ActiveRecord: 2.1ms (1 query, 0 cached) | GC: 5.3ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 08:05:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.9ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 1], [nil, 1], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 1], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 1], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 1]]
  Rendered hub/index.html.erb within layouts/application (Duration: 12.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 0.4ms)
Completed 200 OK in 23ms (Views: 10.8ms | ActiveRecord: 5.6ms (7 queries, 0 cached) | GC: 2.7ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 08:05:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-07-25 08:05:33 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 08:05:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 09:55:07 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.4ms)
Completed 200 OK in 13ms (Views: 7.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.1ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 09:55:07 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_523"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 06:55:09.077235"], ["updated_at", "2025-07-25 06:55:09.077235"], ["username", "testadmin_523"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 09:55:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 5ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 1.6ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 09:55:11 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 2], [nil, 2], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 2], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 2]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 2], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/index.html.erb within layouts/application (Duration: 29.3ms | GC: 12.8ms)
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | GC: 12.8ms)
Completed 200 OK in 45ms (Views: 30.5ms | ActiveRecord: 3.8ms (8 queries, 0 cached) | GC: 21.2ms)
Started GET "/finances" for 127.0.0.1 at 2025-07-25 09:55:14 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Sum (0.2ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 8.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.4ms)
Completed 200 OK in 13ms (Views: 8.9ms | ActiveRecord: 2.0ms (6 queries, 0 cached) | GC: 0.4ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 09:56:23 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.1ms)
Completed 200 OK in 13ms (Views: 6.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.2ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 09:56:23 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_945"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 06:56:24.311308"], ["updated_at", "2025-07-25 06:56:24.311308"], ["username", "testadmin_945"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 09:56:26 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 7ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 2.6ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 09:56:26 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 3], [nil, 3], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 3], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 3]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 3], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/index.html.erb within layouts/application (Duration: 31.6ms | GC: 15.3ms)
  Rendered layout layouts/application.html.erb (Duration: 32.8ms | GC: 16.0ms)
Completed 200 OK in 66ms (Views: 31.8ms | ActiveRecord: 6.8ms (8 queries, 0 cached) | GC: 37.0ms)
Started GET "/finances" for 127.0.0.1 at 2025-07-25 09:56:29 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Sum (0.7ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 7.6ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.3ms)
Completed 200 OK in 15ms (Views: 8.6ms | ActiveRecord: 2.1ms (6 queries, 0 cached) | GC: 0.3ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 09:58:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 09:58:42 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_322"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 06:58:43.383923"], ["updated_at", "2025-07-25 06:58:43.383923"], ["username", "testadmin_322"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 09:58:45 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.7ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 09:58:45 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (1.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 4], [nil, 4], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 4], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 4]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 4], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/index.html.erb within layouts/application (Duration: 45.1ms | GC: 21.0ms)
  Rendered layout layouts/application.html.erb (Duration: 46.6ms | GC: 22.0ms)
Completed 200 OK in 53ms (Views: 42.5ms | ActiveRecord: 6.2ms (8 queries, 0 cached) | GC: 22.2ms)
Started GET "/finances" for 127.0.0.1 at 2025-07-25 09:58:48 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Sum (0.4ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 9.9ms | GC: 6.4ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 6.6ms)
Completed 200 OK in 21ms (Views: 11.5ms | ActiveRecord: 1.3ms (6 queries, 0 cached) | GC: 12.5ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 10:06:27 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 1.9ms)
Completed 200 OK in 26ms (Views: 9.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 14.4ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 10:06:27 +0300
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_971"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 07:06:28.383748"], ["updated_at", "2025-07-25 07:06:28.383748"], ["username", "testuser_971"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 10:06:30 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 10:06:30 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 5], [nil, 5], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 5], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 5], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 5]]
  Rendered hub/index.html.erb within layouts/application (Duration: 9.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 8.8ms | ActiveRecord: 3.3ms (7 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 10:07:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.4ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | GC: 2.6ms)
Completed 200 OK in 29ms (Views: 13.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 17.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 10:07:51 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_207"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 07:07:52.649473"], ["updated_at", "2025-07-25 07:07:52.649473"], ["username", "testuser_207"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 10:07:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 10:07:54 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 6], [nil, 6], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 6], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 6], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 6]]
  Rendered hub/index.html.erb within layouts/application (Duration: 11.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 10.0ms | ActiveRecord: 4.6ms (7 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 10:08:10 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_924"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 07:08:11.988054"], ["updated_at", "2025-07-25 07:08:11.988054"], ["username", "testadmin_924"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 10:08:14 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 10:08:14 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 7], [nil, 7], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 7], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 7]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 7], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/index.html.erb within layouts/application (Duration: 7.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.2ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 1.6ms (8 queries, 0 cached) | GC: 0.2ms)
Started GET "/finances" for 127.0.0.1 at 2025-07-25 10:08:16 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mUser Sum (0.5ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 1.4ms (6 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-07-25 10:08:18 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-07-25 10:08:19 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/users" for 127.0.0.1 at 2025-07-25 10:08:26 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x0000783d84155470>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 07:08:26.037569"], ["updated_at", "2025-07-25 07:08:26.037569"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 5ms (ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-07-25 10:08:26 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 10:08:26 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_681"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 07:08:27.185131"], ["updated_at", "2025-07-25 07:08:27.185131"], ["username", "testuser_681"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 10:08:29 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 10:08:29 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 9], [nil, 9], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 9], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 9], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 9]]
  Rendered hub/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.4ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 1.3ms (7 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 10:25:23 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 10:25:23 +0300
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_249"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 07:25:24.469125"], ["updated_at", "2025-07-25 07:25:24.469125"], ["username", "testuser_249"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 10:25:26 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 5ms (ActiveRecord: 0.7ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 10:25:26 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 10], [nil, 10], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 10], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 10], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 10]]
  Rendered hub/index.html.erb within layouts/application (Duration: 27.0ms | GC: 9.9ms)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | GC: 9.9ms)
Completed 200 OK in 37ms (Views: 25.8ms | ActiveRecord: 5.2ms (7 queries, 0 cached) | GC: 10.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 11:44:14 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 11:44:14 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_941"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 08:44:15.904426"], ["updated_at", "2025-07-25 08:44:15.904426"], ["username", "testuser_941"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 11:44:18 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 11:44:18 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 11], [nil, 11], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 11], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 11], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 11]]
  Rendered hub/_modals.html.erb (Duration: 20.9ms | GC: 11.6ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 25.1ms | GC: 11.8ms)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | GC: 12.7ms)
Completed 200 OK in 32ms (Views: 24.7ms | ActiveRecord: 3.7ms (7 queries, 0 cached) | GC: 12.7ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.9ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (1.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 11:46:41 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 11:46:41 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_854"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 08:46:42.617819"], ["updated_at", "2025-07-25 08:46:42.617819"], ["username", "testuser_854"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 11:46:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 5ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.6ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 11:46:44 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.7ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 12], [nil, 12], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 12], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 12], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 12]]
  Rendered hub/_modals.html.erb (Duration: 20.9ms | GC: 11.8ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 26.4ms | GC: 12.2ms)
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | GC: 12.2ms)
Completed 200 OK in 36ms (Views: 25.0ms | ActiveRecord: 5.3ms (7 queries, 0 cached) | GC: 12.4ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.8ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 11:47:37 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.9ms)
Completed 200 OK in 23ms (Views: 9.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 11.4ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 11:47:37 +0300
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_496"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 08:47:38.700945"], ["updated_at", "2025-07-25 08:47:38.700945"], ["username", "testuser_496"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 11:47:40 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 11:47:40 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 13], [nil, 13], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 13], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 13], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 13]]
  Rendered hub/_modals.html.erb (Duration: 11.1ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 15.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 14.5ms | ActiveRecord: 4.6ms (7 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.9ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (1.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 11:49:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.4ms)
Completed 200 OK in 15ms (Views: 6.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.7ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 11:49:05 +0300
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_317"], ["LIMIT", 1]]
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 08:49:06.861130"], ["updated_at", "2025-07-25 08:49:06.861130"], ["username", "testadmin_317"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 11:49:09 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 11:49:09 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 14], [nil, 14], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 14], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 14]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 14], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/_modals.html.erb (Duration: 8.3ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 11.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 10.6ms | ActiveRecord: 4.2ms (8 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.8ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 11:51:54 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.5ms)
Completed 200 OK in 20ms (Views: 7.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 9.3ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 11:51:54 +0300
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_679"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 08:51:55.353815"], ["updated_at", "2025-07-25 08:51:55.353815"], ["username", "testadmin_679"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 11:51:57 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 11:51:57 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 15], [nil, 15], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 15], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 15]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 15], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/_modals.html.erb (Duration: 13.1ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 18.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 17.1ms | ActiveRecord: 5.1ms (8 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (1.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (1.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 11:52:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.5ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 1.2ms)
Completed 200 OK in 21ms (Views: 8.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 8.4ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 11:52:56 +0300
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_548"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 08:52:58.049237"], ["updated_at", "2025-07-25 08:52:58.049237"], ["username", "testadmin_548"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 11:53:00 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 11:53:00 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 16], [nil, 16], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 16], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 16]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 16], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/_modals.html.erb (Duration: 11.8ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 15.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 13.1ms | ActiveRecord: 5.4ms (8 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (1.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.9ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-26 09:15:12.564806"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-07-25 09:15:12.574007"], ["updated_at", "2025-07-25 09:15:12.574007"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 12:15:13 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 0.9ms)
Completed 200 OK in 24ms (Views: 12.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.6ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 12:15:13 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_551"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 09:15:14.771550"], ["updated_at", "2025-07-25 09:15:14.771550"], ["username", "testadmin_551"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 12:15:16 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 6ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 2.5ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 12:15:16 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.7ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.8ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 17], [nil, 17], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 17], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 17]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 17], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/_modals.html.erb (Duration: 37.5ms | GC: 22.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 57.1ms | GC: 33.0ms)
  Rendered layout layouts/application.html.erb (Duration: 57.7ms | GC: 33.2ms)
Completed 200 OK in 77ms (Views: 55.2ms | ActiveRecord: 9.2ms (9 queries, 0 cached) | GC: 42.7ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.6ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-26 09:34:49.012785"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-07-25 09:34:49.019998"], ["updated_at", "2025-07-25 09:34:49.019998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 12:34:49 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.5ms)
Completed 200 OK in 12ms (Views: 6.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.1ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 12:34:49 +0300
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_421"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 09:34:51.195272"], ["updated_at", "2025-07-25 09:34:51.195272"], ["username", "testadmin_421"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 12:34:53 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 5ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 2.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 12:34:53 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 18], [nil, 18], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 18], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 18]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 18], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/_modals.html.erb (Duration: 9.2ms | GC: 1.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 13.5ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | GC: 1.6ms)
Completed 200 OK in 21ms (Views: 12.9ms | ActiveRecord: 2.8ms (9 queries, 0 cached) | GC: 3.2ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-07-26 09:42:18.246547"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-07-25 09:42:18.251594"], ["updated_at", "2025-07-25 09:42:18.251594"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-07-25 12:42:19 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.5ms)
Completed 200 OK in 15ms (Views: 7.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.3ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-07-25 12:42:19 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_740"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-07-25 09:42:20.427609"], ["updated_at", "2025-07-25 09:42:20.427609"], ["username", "testadmin_740"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-07-25 12:42:22 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 7ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 2.8ms)
Started GET "/hub" for 127.0.0.1 at 2025-07-25 12:42:22 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.8ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 19], [nil, 19], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 19], ["username", "Admin"], ["LIMIT", 1]]
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 19]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 19], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/_modals.html.erb (Duration: 27.2ms | GC: 17.5ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 44.2ms | GC: 27.1ms)
  Rendered layout layouts/application.html.erb (Duration: 45.8ms | GC: 28.2ms)
Completed 200 OK in 64ms (Views: 44.8ms | ActiveRecord: 4.2ms (9 queries, 0 cached) | GC: 38.6ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.9ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.8ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_251"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:31.641160"], ["updated_at", "2025-08-05 06:51:31.641160"], ["username", "testuser_251"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"20", "redirect_to"=>"/hub", "user_id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.8ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 20]]
  [1m[36mFinance Create (0.6ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 20], ["amount", "-10.5"], ["notes", "Payment to testuser_251: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-08-05 06:51:31.665852"], ["updated_at", "2025-08-05 06:51:31.665852"], ["payer_id", 20], ["payee_id", 20]]
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 20]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 20], ["amount", "10.5"], ["notes", "Payment from testuser_251: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-08-05 06:51:31.668020"], ["updated_at", "2025-08-05 06:51:31.668020"], ["payer_id", 20], ["payee_id", 20]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 31ms (ActiveRecord: 3.5ms (6 queries, 1 cached) | GC: 16.6ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_343"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:31.702419"], ["updated_at", "2025-08-05 06:51:31.702419"], ["username", "testuser_343"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:51:31 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_282"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:31.721069"], ["updated_at", "2025-08-05 06:51:31.721069"], ["username", "testuser_282"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:51:31 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:51:31 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 22], [nil, 22], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 22], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.4ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.8ms | GC: 0.2ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 22], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 3.6ms | GC: 0.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 22]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.5ms | GC: 0.3ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 13.3ms | GC: 0.8ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 0.8ms)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 1.9ms (7 queries, 2 cached) | GC: 1.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_187"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:31.753766"], ["updated_at", "2025-08-05 06:51:31.753766"], ["username", "testadmin_187"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 06:51:31 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 06:51:31"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-08-05 06:51:31.758180"], ["updated_at", "2025-08-05 06:51:31.758180"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 2ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_556"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:31.762616"], ["updated_at", "2025-08-05 06:51:31.762616"], ["username", "testuser_556"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 06:51:31 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_810"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:31.767784"], ["updated_at", "2025-08-05 06:51:31.767784"], ["username", "testuser_810"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 06:51:31 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_709"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:31.774478"], ["updated_at", "2025-08-05 06:51:31.774478"], ["username", "testuser_709"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 26], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-08-05 06:51:31.775155"], ["updated_at", "2025-08-05 06:51:31.775155"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x000079198c459880>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:31.795305"], ["updated_at", "2025-08-05 06:51:31.795305"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 18ms (ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 14.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x000079198a718c08>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:31.802621"], ["updated_at", "2025-08-05 06:51:31.802621"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 3ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 06:51:31.808958"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-08-05 06:51:31.809147"], ["updated_at", "2025-08-05 06:51:31.809147"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:51:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 09:51:33 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_175"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:33.455242"], ["updated_at", "2025-08-05 06:51:33.455242"], ["username", "testuser_175"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:51:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:51:33 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:51:33 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 29], [nil, 29], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 29], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 29], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 29]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 1.1ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:33 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_780"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:33.855045"], ["updated_at", "2025-08-05 06:51:33.855045"], ["username", "testadmin_780"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:51:34 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:51:34 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 30], [nil, 30], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 30], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 30]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 30], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.9ms (8 queries, 0 cached) | GC: 0.0ms)
Started GET "/finances" for 127.0.0.1 at 2025-08-05 09:51:34 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mUser Sum (1.4ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 5.0ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.8ms)
Completed 200 OK in 46ms (Views: 7.5ms | ActiveRecord: 2.5ms (6 queries, 0 cached) | GC: 33.4ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:34 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_157"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:34.276702"], ["updated_at", "2025-08-05 06:51:34.276702"], ["username", "testuser_157"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:51:34 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:51:34 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 31], [nil, 31], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 31], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 31], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 31]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 5.9ms | GC: 0.2ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.2ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 1.1ms (7 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-08-05 09:51:34 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:34 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-08-05 09:51:34 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/users" for 127.0.0.1 at 2025-08-05 09:51:35 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007919889d0d30>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:35.017667"], ["updated_at", "2025-08-05 06:51:35.017667"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 10ms (ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 4.1ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:35 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 1.6ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.5ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (1.7ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 06:51:35.158906"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 06:51:35.159518"], ["updated_at", "2025-08-05 06:51:35.159518"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:35 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_445"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:35.198736"], ["updated_at", "2025-08-05 06:51:35.198736"], ["username", "testadmin_445"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:51:35 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:51:35 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 33], [nil, 33], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 33], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.6ms | GC: 0.1ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 33]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 33], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 1.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.4ms | GC: 0.1ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.1ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 1.4ms (9 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 06:51:50.505354"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 06:51:50.505966"], ["updated_at", "2025-08-05 06:51:50.505966"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:50 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_902"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:50.542093"], ["updated_at", "2025-08-05 06:51:50.542093"], ["username", "testadmin_902"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:51:50 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:51:50 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 34], [nil, 34], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 34], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 34]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 34], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.6ms (9 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:51:51 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.4ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_625"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:51:51.340407"], ["updated_at", "2025-08-05 06:51:51.340407"], ["username", "testuser_625"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:51:51 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:51:51 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 35], [nil, 35], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 35], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 35], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 35]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.0ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 7.1ms | ActiveRecord: 1.3ms (7 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:51:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:23 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.7ms)
Completed 200 OK in 19ms (Views: 10.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.2ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 09:54:23 +0300
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:54:24 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 6ms (Views: 0.9ms | ActiveRecord: 1.7ms (1 query, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:24 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_630"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:24.501995"], ["updated_at", "2025-08-05 06:54:24.501995"], ["username", "testuser_630"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:54:24 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:54:24 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 36], [nil, 36], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 36], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 2.1ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 36], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.3ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 3.4ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 36]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 15.1ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 31.9ms | GC: 15.5ms)
Completed 200 OK in 40ms (Views: 30.7ms | ActiveRecord: 3.7ms (7 queries, 0 cached) | GC: 15.5ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:24 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_343"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:24.987386"], ["updated_at", "2025-08-05 06:54:24.987386"], ["username", "testuser_343"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:54:24 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:54:24 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 37], [nil, 37], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 37], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 37], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 37]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.3ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.3ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.5ms (7 queries, 2 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:54:25 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_561"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:25.008901"], ["updated_at", "2025-08-05 06:54:25.008901"], ["username", "testuser_561"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-08-05 09:54:25 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:25 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.2ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started GET "/signup" for 127.0.0.1 at 2025-08-05 09:54:25 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2025-08-05 09:54:25 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007aa4210a4b10>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:25.383025"], ["updated_at", "2025-08-05 06:54:25.383025"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 4ms (ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:25 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:25 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_118"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:25.532481"], ["updated_at", "2025-08-05 06:54:25.532481"], ["username", "testuser_118"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:54:25 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.7ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:54:25 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 40], [nil, 40], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 40], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 40], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 1.2ms | GC: 0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 40]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.7ms | GC: 0.5ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.5ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 06:54:25.885756"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 06:54:25.886145"], ["updated_at", "2025-08-05 06:54:25.886145"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:25 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_86"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:25.918975"], ["updated_at", "2025-08-05 06:54:25.918975"], ["username", "testadmin_86"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:54:26 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:54:26 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 41], [nil, 41], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 41], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 41]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 41], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.0ms | GC: 0.3ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 1.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 10.6ms | GC: 0.5ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | GC: 0.5ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 1.9ms (9 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 06:54:41.250879"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 06:54:41.251450"], ["updated_at", "2025-08-05 06:54:41.251450"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:41 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_594"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:41.290109"], ["updated_at", "2025-08-05 06:54:41.290109"], ["username", "testadmin_594"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:54:41 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:54:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 42], [nil, 42], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 42], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 42]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 42], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 0.6ms | GC: 0.1ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 4.7ms | GC: 0.1ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.1ms)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.7ms (9 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:41 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_143"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:41.838541"], ["updated_at", "2025-08-05 06:54:41.838541"], ["username", "testadmin_143"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:54:41 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:54:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 43], [nil, 43], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 43], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 1.9ms | GC: 1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 43]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 43], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 6.5ms | GC: 1.5ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 1.5ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.0ms (8 queries, 0 cached) | GC: 1.5ms)
Started GET "/finances" for 127.0.0.1 at 2025-08-05 09:54:42 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mUser Sum (0.5ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 1.5ms (6 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_504"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:42.212484"], ["updated_at", "2025-08-05 06:54:42.212484"], ["username", "testadmin_504"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 06:54:42 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 06:54:42"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-08-05 06:54:42.216760"], ["updated_at", "2025-08-05 06:54:42.216760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 2ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_255"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:42.223890"], ["updated_at", "2025-08-05 06:54:42.223890"], ["username", "testuser_255"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 06:54:42 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_740"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:42.231870"], ["updated_at", "2025-08-05 06:54:42.231870"], ["username", "testuser_740"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 06:54:42 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_482"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:42.250791"], ["updated_at", "2025-08-05 06:54:42.250791"], ["username", "testuser_482"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.7ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 47], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-08-05 06:54:42.252380"], ["updated_at", "2025-08-05 06:54:42.252380"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007aa422d8ac98>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:42.262085"], ["updated_at", "2025-08-05 06:54:42.262085"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 5ms (ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007aa420529100>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:42.272137"], ["updated_at", "2025-08-05 06:54:42.272137"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 4ms (ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_832"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:42.285072"], ["updated_at", "2025-08-05 06:54:42.285072"], ["username", "testuser_832"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 09:54:42 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:54:42 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 50], [nil, 50], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 50], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 50], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 50]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.6ms (7 queries, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:54:42 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 50], [nil, 50], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 50], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 50], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 1.0ms | GC: 0.5ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 50]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.4ms | GC: 0.5ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.5ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 09:54:42 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 09:54:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_255"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 06:54:42.752708"], ["updated_at", "2025-08-05 06:54:42.752708"], ["username", "testuser_255"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"51", "redirect_to"=>"/hub", "user_id"=>"51"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.5ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 51]]
  [1m[36mFinance Create (0.4ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 51], ["amount", "-10.5"], ["notes", "Payment to testuser_255: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-08-05 06:54:42.760473"], ["updated_at", "2025-08-05 06:54:42.760473"], ["payer_id", 51], ["payee_id", 51]]
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 51]]
  [1m[36mFinance Create (0.1ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 51], ["amount", "10.5"], ["notes", "Payment from testuser_255: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-08-05 06:54:42.762223"], ["updated_at", "2025-08-05 06:54:42.762223"], ["payer_id", 51], ["payee_id", 51]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 7ms (ActiveRecord: 1.5ms (6 queries, 1 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 06:54:42.767904"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-08-05 06:54:42.768099"], ["updated_at", "2025-08-05 06:54:42.768099"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_492"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:44.442835"], ["updated_at", "2025-08-05 07:12:44.442835"], ["username", "testuser_492"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.6ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 52], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-08-05 07:12:44.448606"], ["updated_at", "2025-08-05 07:12:44.448606"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 07:12:44.467495"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-08-05 07:12:44.467732"], ["updated_at", "2025-08-05 07:12:44.467732"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_233"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:44.471818"], ["updated_at", "2025-08-05 07:12:44.471818"], ["username", "testuser_233"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"53", "redirect_to"=>"/hub", "user_id"=>"53"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.9ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 53]]
  [1m[36mFinance Create (0.8ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 53], ["amount", "-10.5"], ["notes", "Payment to testuser_233: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-08-05 07:12:44.510778"], ["updated_at", "2025-08-05 07:12:44.510778"], ["payer_id", 53], ["payee_id", 53]]
  [1m[36mUser Update All (0.5ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 53]]
  [1m[36mFinance Create (0.5ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 53], ["amount", "10.5"], ["notes", "Payment from testuser_233: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-08-05 07:12:44.513727"], ["updated_at", "2025-08-05 07:12:44.513727"], ["payer_id", 53], ["payee_id", 53]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 14ms (ActiveRecord: 3.9ms (6 queries, 1 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_430"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:44.530085"], ["updated_at", "2025-08-05 07:12:44.530085"], ["username", "testuser_430"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 10:12:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 4ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 10:12:44 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 54], [nil, 54], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 54], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.3ms | GC: 0.1ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.7ms | GC: 0.2ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 54], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 54]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 8.5ms | GC: 0.3ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 0.3ms)
Completed 200 OK in 18ms (Views: 12.1ms | ActiveRecord: 0.9ms (7 queries, 2 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 10:12:44 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:45 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 10:12:45 +0300
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_194"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:45.499560"], ["updated_at", "2025-08-05 07:12:45.499560"], ["username", "testuser_194"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 10:12:45 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 10:12:45 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 55], [nil, 55], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 55], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 55], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.4ms | GC: 0.8ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 55]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.9ms | GC: 0.8ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 0.8ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.8ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:45 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.2ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 10:12:46 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 1.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:46 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_353"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:46.366906"], ["updated_at", "2025-08-05 07:12:46.366906"], ["username", "testadmin_353"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 07:12:46 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 07:12:46"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-08-05 07:12:46.373133"], ["updated_at", "2025-08-05 07:12:46.373133"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 3ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_321"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:46.379300"], ["updated_at", "2025-08-05 07:12:46.379300"], ["username", "testuser_321"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 07:12:46 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_15"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:46.384458"], ["updated_at", "2025-08-05 07:12:46.384458"], ["username", "testuser_15"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 07:12:46 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_636"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:46.397940"], ["updated_at", "2025-08-05 07:12:46.397940"], ["username", "testuser_636"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_559"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:46.405419"], ["updated_at", "2025-08-05 07:12:46.405419"], ["username", "testuser_559"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:46 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 10:12:46 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 10:12:46 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 60], [nil, 60], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 60], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 60], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 60]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 30.5ms | GC: 23.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | GC: 23.0ms)
Completed 200 OK in 33ms (Views: 30.0ms | ActiveRecord: 1.5ms (7 queries, 0 cached) | GC: 23.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 10:12:46 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 60], [nil, 60], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 60], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 60], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 60]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 6.9ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | GC: 0.7ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 1.3ms (7 queries, 0 cached) | GC: 0.7ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 10:12:46 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.2ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:46 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007ef10c2d6190>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:46.879946"], ["updated_at", "2025-08-05 07:12:46.879946"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 5ms (ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007ef10c35e428>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:46.890019"], ["updated_at", "2025-08-05 07:12:46.890019"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 5ms (ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 07:12:46.895107"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 07:12:46.895573"], ["updated_at", "2025-08-05 07:12:46.895573"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:46 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_336"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:46.933504"], ["updated_at", "2025-08-05 07:12:46.933504"], ["username", "testadmin_336"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 10:12:47 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 10:12:47 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 63], [nil, 63], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 63], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.0ms | GC: 0.2ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 63]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 63], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 10.9ms | GC: 0.2ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | GC: 0.2ms)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 2.4ms (9 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 07:12:47.463762"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 07:12:47.464089"], ["updated_at", "2025-08-05 07:12:47.464089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:47 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_939"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:47.500460"], ["updated_at", "2025-08-05 07:12:47.500460"], ["username", "testadmin_939"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 10:12:47 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 10:12:47 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 64], [nil, 64], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 64], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 64]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 64], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.5ms | GC: 0.5ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.8ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:47 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_783"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:48.029619"], ["updated_at", "2025-08-05 07:12:48.029619"], ["username", "testadmin_783"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 10:12:48 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 10:12:48 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 65], [nil, 65], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 65], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.6ms | GC: 0.1ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 65]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 65], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 5.9ms | GC: 0.1ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.1ms)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 1.1ms (8 queries, 0 cached) | GC: 0.1ms)
Started GET "/finances" for 127.0.0.1 at 2025-08-05 10:12:48 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mUser Sum (0.4ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 1.8ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-08-05 10:12:48 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:48 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-08-05 10:12:48 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2025-08-05 10:12:48 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007ef10c5bc080>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:48.767369"], ["updated_at", "2025-08-05 07:12:48.767369"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 5ms (ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:48 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 10:12:48 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_516"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 07:12:48.909218"], ["updated_at", "2025-08-05 07:12:48.909218"], ["username", "testuser_516"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 10:12:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 10:12:49 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 67], [nil, 67], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 67], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 67], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.8ms | GC: 0.3ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 67]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.3ms | GC: 0.3ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.3ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 1.5ms (7 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:04:58 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 6.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 11:04:58 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_11"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:04:59.411079"], ["updated_at", "2025-08-05 08:04:59.411079"], ["username", "testuser_11"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:04:59 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:04:59 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 5ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 2.5ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:04:59 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 68], [nil, 68], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 68], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.7ms | GC: 0.5ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 68], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 4.1ms | GC: 0.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 68]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 17.0ms | GC: 3.6ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | GC: 3.8ms)
Completed 200 OK in 43ms (Views: 20.3ms | ActiveRecord: 5.6ms (7 queries, 0 cached) | GC: 19.7ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:00 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:05:00 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 1.0ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:00 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.5ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_174"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:37.233861"], ["updated_at", "2025-08-05 08:05:37.233861"], ["username", "testuser_174"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:05:37 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 5ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:05:37 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 69], [nil, 69], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 69], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 69], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 3.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 69]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 10.5ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | GC: 14.9ms)
Completed 200 OK in 35ms (Views: 28.2ms | ActiveRecord: 2.6ms (7 queries, 2 cached) | GC: 14.9ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:05:37 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_17"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:37.301109"], ["updated_at", "2025-08-05 08:05:37.301109"], ["username", "testadmin_17"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:05:37 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (1.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:05:37"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-08-05 08:05:37.308496"], ["updated_at", "2025-08-05 08:05:37.308496"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 4ms (ActiveRecord: 1.8ms (2 queries, 0 cached) | GC: 0.5ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_721"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:37.317520"], ["updated_at", "2025-08-05 08:05:37.317520"], ["username", "testuser_721"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:05:37 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_366"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:37.325894"], ["updated_at", "2025-08-05 08:05:37.325894"], ["username", "testuser_366"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:05:37 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_873"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:37.335157"], ["updated_at", "2025-08-05 08:05:37.335157"], ["username", "testuser_873"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:38 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 11:05:38 +0300
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:05:38 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:05:38 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 73], [nil, 73], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 73], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 73], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 73]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 6.1ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:38 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:38 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:39 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:05:39 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:05:39 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:39 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.8ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 3.3ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 4.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_765"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:39.947278"], ["updated_at", "2025-08-05 08:05:39.947278"], ["username", "testuser_765"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:39 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 1.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 4.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:05:40 +0300
Processing by HubController#index as HTML
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:05:40 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 6.9ms)
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 9ms (ActiveRecord: 2.0ms (1 query, 0 cached) | GC: 4.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:05:40 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 74], [nil, 74], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 74], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 74], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 74]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 8.2ms | GC: 0.4ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.4ms)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 1.5ms (7 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:05:40.315977"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 08:05:40.316586"], ["updated_at", "2025-08-05 08:05:40.316586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:40 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_99"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:40.348195"], ["updated_at", "2025-08-05 08:05:40.348195"], ["username", "testadmin_99"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:05:40 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:05:40 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 75], [nil, 75], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 75], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.8ms | GC: 0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 75]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 75], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.3ms | GC: 0.3ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.3ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 1.4ms (9 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:05:40.875579"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 08:05:40.875921"], ["updated_at", "2025-08-05 08:05:40.875921"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:40 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_452"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:40.909130"], ["updated_at", "2025-08-05 08:05:40.909130"], ["username", "testadmin_452"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:05:41 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:05:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 76], [nil, 76], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 76], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 76]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 76], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 16.3ms | GC: 14.7ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 25.2ms | GC: 14.7ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | GC: 14.7ms)
Completed 200 OK in 28ms (Views: 24.4ms | ActiveRecord: 2.1ms (9 queries, 0 cached) | GC: 14.7ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:41 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_973"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:41.484878"], ["updated_at", "2025-08-05 08:05:41.484878"], ["username", "testuser_973"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:05:41 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:05:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 77], [nil, 77], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 77], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 77], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.4ms | GC: 0.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 77]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.1ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.1ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.7ms (7 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-08-05 11:05:41 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:41 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-08-05 11:05:41 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2025-08-05 11:05:42 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007c2355abda20>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:42.159326"], ["updated_at", "2025-08-05 08:05:42.159326"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 6ms (ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:05:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_628"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:42.307410"], ["updated_at", "2025-08-05 08:05:42.307410"], ["username", "testadmin_628"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:05:42 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:05:42 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 79], [nil, 79], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 79], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 79]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 79], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.7ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 1.7ms (8 queries, 0 cached) | GC: 0.0ms)
Started GET "/finances" for 127.0.0.1 at 2025-08-05 11:05:42 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mUser Sum (0.4ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 1.2ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:05:42.693606"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-08-05 08:05:42.694096"], ["updated_at", "2025-08-05 08:05:42.694096"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_886"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:42.703036"], ["updated_at", "2025-08-05 08:05:42.703036"], ["username", "testuser_886"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"80", "redirect_to"=>"/hub", "user_id"=>"80"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 80]]
  [1m[36mFinance Create (0.6ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 80], ["amount", "-10.5"], ["notes", "Payment to testuser_886: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-08-05 08:05:42.714593"], ["updated_at", "2025-08-05 08:05:42.714593"], ["payer_id", 80], ["payee_id", 80]]
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 80]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 80], ["amount", "10.5"], ["notes", "Payment from testuser_886: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-08-05 08:05:42.717374"], ["updated_at", "2025-08-05 08:05:42.717374"], ["payer_id", 80], ["payee_id", 80]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 14ms (ActiveRecord: 2.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_364"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:05:42.722810"], ["updated_at", "2025-08-05 08:05:42.722810"], ["username", "testuser_364"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.4ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 81], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-08-05 08:05:42.724287"], ["updated_at", "2025-08-05 08:05:42.724287"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:07:23 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.5ms)
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.1ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 11:07:23 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:07:24 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:07:24 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 7ms (Views: 1.4ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_564"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:07:24.840103"], ["updated_at", "2025-08-05 08:07:24.840103"], ["username", "testuser_564"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:07:24 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:07:25 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:07:25 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 82], [nil, 82], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 82], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 82], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.2ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 6.2ms | GC: 0.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 82]]
  Rendered hub/modals/_finance.html.erb (Duration: 2.7ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 19.0ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 19.4ms | ActiveRecord: 4.3ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:07:25 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.8ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:28:37.042024"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-08-05 08:28:37.049880"], ["updated_at", "2025-08-05 08:28:37.049880"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_958"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:28:37.136208"], ["updated_at", "2025-08-05 08:28:37.136208"], ["username", "testuser_958"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"83", "redirect_to"=>"/hub", "user_id"=>"83"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (1.0ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 83]]
  [1m[36mFinance Create (1.1ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 83], ["amount", "-10.5"], ["notes", "Payment to testuser_958: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-08-05 08:28:37.190064"], ["updated_at", "2025-08-05 08:28:37.190064"], ["payer_id", 83], ["payee_id", 83]]
  [1m[36mUser Update All (0.5ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 83]]
  [1m[36mFinance Create (0.6ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 83], ["amount", "10.5"], ["notes", "Payment from testuser_958: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-08-05 08:28:37.195047"], ["updated_at", "2025-08-05 08:28:37.195047"], ["payer_id", 83], ["payee_id", 83]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 31ms (ActiveRecord: 6.9ms (6 queries, 1 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:28:37 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_874"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:28:37.222404"], ["updated_at", "2025-08-05 08:28:37.222404"], ["username", "testuser_874"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:28:37 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 3ms (ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:28:37 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 84], [nil, 84], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 84], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 2.6ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 1.7ms | GC: 0.5ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 84], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 2.2ms | GC: 0.2ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 84]]
  Rendered hub/modals/_finance.html.erb (Duration: 2.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 19.1ms | GC: 1.2ms)
  Rendered shared/_header.html.erb (Duration: 3.0ms | GC: 2.3ms)
  Rendered shared/_footer.html.erb (Duration: 1.7ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | GC: 5.5ms)
Completed 200 OK in 62ms (Views: 28.3ms | ActiveRecord: 2.1ms (7 queries, 2 cached) | GC: 30.5ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_437"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:28:37.324741"], ["updated_at", "2025-08-05 08:28:37.324741"], ["username", "testuser_437"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.7ms (1 query, 0 cached) | GC: 2.7ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_349"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:28:37.409568"], ["updated_at", "2025-08-05 08:28:37.409568"], ["username", "testuser_349"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.9ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 86], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-08-05 08:28:37.411799"], ["updated_at", "2025-08-05 08:28:37.411799"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007295ab992588>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:28:37.428665"], ["updated_at", "2025-08-05 08:28:37.428665"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 8ms (ActiveRecord: 1.8ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007295abf55e70>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:28:37.444042"], ["updated_at", "2025-08-05 08:28:37.444042"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 8ms (ActiveRecord: 2.1ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_708"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:28:37.453508"], ["updated_at", "2025-08-05 08:28:37.453508"], ["username", "testadmin_708"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:28:37 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (1.0ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:28:37"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-08-05 08:28:37.460394"], ["updated_at", "2025-08-05 08:28:37.460394"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 5ms (ActiveRecord: 1.8ms (2 queries, 0 cached) | GC: 0.3ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_732"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:28:37.470900"], ["updated_at", "2025-08-05 08:28:37.470900"], ["username", "testuser_732"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:28:37 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_322"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:28:37.483637"], ["updated_at", "2025-08-05 08:28:37.483637"], ["username", "testuser_322"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:28:37 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.7ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:37:53.742879"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 08:37:53.749243"], ["updated_at", "2025-08-05 08:37:53.749243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:54 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.4ms)
Completed 200 OK in 13ms (Views: 7.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 11:37:54 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_788"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:54.728434"], ["updated_at", "2025-08-05 08:37:54.728434"], ["username", "testadmin_788"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:37:54 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:37:54 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.4ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 92], [nil, 92], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 92], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.9ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 92]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 1.2ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 92], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 13.6ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 13.4ms | ActiveRecord: 2.8ms (9 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:37:55.358150"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 08:37:55.358720"], ["updated_at", "2025-08-05 08:37:55.358720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:55 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_996"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:55.391976"], ["updated_at", "2025-08-05 08:37:55.391976"], ["username", "testadmin_996"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:37:55 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:37:55 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 93], [nil, 93], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 93], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 93]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 93], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 1.0ms | GC: 0.3ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.3ms | GC: 0.3ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.3ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 1.3ms (9 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:55 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_916"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:55.952705"], ["updated_at", "2025-08-05 08:37:55.952705"], ["username", "testuser_916"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:37:56 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:37:56 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 94], [nil, 94], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 94], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 94], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 94]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 6.9ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-08-05 11:37:56 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-08-05 11:37:56 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/users" for 127.0.0.1 at 2025-08-05 11:37:56 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x000079a5dc064ec8>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:56.775227"], ["updated_at", "2025-08-05 08:37:56.775227"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 4ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:56 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 2ms (Views: 0.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_506"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:57.169383"], ["updated_at", "2025-08-05 08:37:57.169383"], ["username", "testuser_506"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 96], [nil, 96], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 96], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 96], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 96]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.6ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:37:57.438000"], ["event_type", "Training"], ["location", "Stadium"], ["notes", "Bring boots"], ["created_at", "2025-08-05 08:37:57.438534"], ["updated_at", "2025-08-05 08:37:57.438534"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_169"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:57.446610"], ["updated_at", "2025-08-05 08:37:57.446610"], ["username", "testuser_169"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 97], [nil, 97], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 97], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 97], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 97]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.7ms (7 queries, 2 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_521"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:57.481708"], ["updated_at", "2025-08-05 08:37:57.481708"], ["username", "testuser_521"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:37:57 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_811"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:57.487898"], ["updated_at", "2025-08-05 08:37:57.487898"], ["username", "testuser_811"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:37:57 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_754"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:57.494388"], ["updated_at", "2025-08-05 08:37:57.494388"], ["username", "testadmin_754"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:37:57 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:37:57"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-08-05 08:37:57.496497"], ["updated_at", "2025-08-05 08:37:57.496497"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 1ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_408"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:57.602744"], ["updated_at", "2025-08-05 08:37:57.602744"], ["username", "testuser_408"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 101], [nil, 101], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 101], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.0ms | GC: 0.1ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 101], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 101]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.8ms | GC: 0.1ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 0.1ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_951"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:57.967360"], ["updated_at", "2025-08-05 08:37:57.967360"], ["username", "testuser_951"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:37:57 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_974"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:58.016220"], ["updated_at", "2025-08-05 08:37:58.016220"], ["username", "testadmin_974"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:37:58 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:37:58 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 103], [nil, 103], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 103], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 103]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 103], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 16.4ms | GC: 9.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | GC: 9.0ms)
Completed 200 OK in 19ms (Views: 15.9ms | ActiveRecord: 1.4ms (8 queries, 0 cached) | GC: 9.0ms)
Started GET "/finances" for 127.0.0.1 at 2025-08-05 11:37:58 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mUser Sum (0.2ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.3ms)
Completed 200 OK in 6ms (Views: 3.1ms | ActiveRecord: 0.7ms (6 queries, 0 cached) | GC: 0.9ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_45"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:58.392953"], ["updated_at", "2025-08-05 08:37:58.392953"], ["username", "testuser_45"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mFinance Create (0.5ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 104], ["amount", "25.0"], ["notes", "Test transaction"], ["transaction_type", "payment"], ["created_at", "2025-08-05 08:37:58.398549"], ["updated_at", "2025-08-05 08:37:58.398549"], ["payer_id", nil], ["payee_id", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_880"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:58.407977"], ["updated_at", "2025-08-05 08:37:58.407977"], ["username", "testuser_880"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"105", "redirect_to"=>"/hub", "user_id"=>"105"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 105]]
  [1m[36mFinance Create (0.3ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 105], ["amount", "-10.5"], ["notes", "Payment to testuser_880: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-08-05 08:37:58.412597"], ["updated_at", "2025-08-05 08:37:58.412597"], ["payer_id", 105], ["payee_id", 105]]
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 105]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 105], ["amount", "10.5"], ["notes", "Payment from testuser_880: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-08-05 08:37:58.414259"], ["updated_at", "2025-08-05 08:37:58.414259"], ["payer_id", 105], ["payee_id", 105]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 6ms (ActiveRecord: 1.1ms (6 queries, 1 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x000079a5de299bb0>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:58.424046"], ["updated_at", "2025-08-05 08:37:58.424046"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 4ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x000079a5de2c01e8>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:37:58.429377"], ["updated_at", "2025-08-05 08:37:58.429377"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_763"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:01.837314"], ["updated_at", "2025-08-05 08:54:01.837314"], ["username", "testuser_763"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 2.1ms | ActiveRecord: 1.1ms (1 query, 0 cached) | GC: 15.5ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:54:01 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_148"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:01.872875"], ["updated_at", "2025-08-05 08:54:01.872875"], ["username", "testuser_148"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:54:01 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:54:01 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 109], [nil, 109], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 109], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 109], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.1ms | GC: 0.4ms)
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 3.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 109]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 12.4ms | GC: 0.7ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | GC: 0.9ms)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 1.8ms (7 queries, 2 cached) | GC: 0.9ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_954"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:01.900454"], ["updated_at", "2025-08-05 08:54:01.900454"], ["username", "testuser_954"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:02 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 11:54:02 +0300
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:54:02 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:54:02 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:54:03 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 110], [nil, 110], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 110], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 110], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 110]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.7ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 1.5ms (7 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:54:03 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.8ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:03 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007d3b41183720>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:03.358190"], ["updated_at", "2025-08-05 08:54:03.358190"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 5ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007d3b411fa1e0>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:03.368562"], ["updated_at", "2025-08-05 08:54:03.368562"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 5ms (ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.3ms)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.7ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:54:03.374304"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 08:54:03.374992"], ["updated_at", "2025-08-05 08:54:03.374992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:03 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_937"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:03.405007"], ["updated_at", "2025-08-05 08:54:03.405007"], ["username", "testadmin_937"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:54:03 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:54:03 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 113], [nil, 113], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 113], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 113]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 113], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.0ms | GC: 0.4ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 1.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 10.0ms | GC: 0.4ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | GC: 0.4ms)
Completed 200 OK in 13ms (Views: 9.3ms | ActiveRecord: 1.9ms (9 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.8ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (1.1ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:54:03.956160"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 08:54:03.956641"], ["updated_at", "2025-08-05 08:54:03.956641"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:03 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 1.9ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.8ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_220"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:03.998705"], ["updated_at", "2025-08-05 08:54:03.998705"], ["username", "testadmin_220"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:54:04 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:54:04 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 114], [nil, 114], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 114], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 114]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 114], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 1.5ms | GC: 0.2ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 9.4ms | GC: 0.2ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | GC: 0.2ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 1.8ms (9 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_276"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:04.509746"], ["updated_at", "2025-08-05 08:54:04.509746"], ["username", "testuser_276"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"115", "redirect_to"=>"/hub", "user_id"=>"115"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 115]]
  [1m[36mFinance Create (0.4ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 115], ["amount", "-10.5"], ["notes", "Payment to testuser_276: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-08-05 08:54:04.518953"], ["updated_at", "2025-08-05 08:54:04.518953"], ["payer_id", 115], ["payee_id", 115]]
  [1m[36mUser Update All (0.1ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 115]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 115], ["amount", "10.5"], ["notes", "Payment from testuser_276: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-08-05 08:54:04.520484"], ["updated_at", "2025-08-05 08:54:04.520484"], ["payer_id", 115], ["payee_id", 115]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 9ms (ActiveRecord: 2.1ms (6 queries, 1 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_209"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:04.524617"], ["updated_at", "2025-08-05 08:54:04.524617"], ["username", "testuser_209"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:54:04 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_408"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:04.532840"], ["updated_at", "2025-08-05 08:54:04.532840"], ["username", "testuser_408"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:54:04 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_587"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:04.539637"], ["updated_at", "2025-08-05 08:54:04.539637"], ["username", "testadmin_587"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:54:04 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:54:04"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-08-05 08:54:04.542261"], ["updated_at", "2025-08-05 08:54:04.542261"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_260"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:04.549665"], ["updated_at", "2025-08-05 08:54:04.549665"], ["username", "testuser_260"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:04 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:54:04 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:04 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_360"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:04.870256"], ["updated_at", "2025-08-05 08:54:04.870256"], ["username", "testuser_360"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:54:04 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.3ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:54:05 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 120], [nil, 120], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 120], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 120], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 120]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.1ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.1ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.5ms (7 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-08-05 11:54:05 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-08-05 11:54:05 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/users" for 127.0.0.1 at 2025-08-05 11:54:05 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007d3b432e2bc8>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:05.472411"], ["updated_at", "2025-08-05 08:54:05.472411"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 5ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_705"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:05.617409"], ["updated_at", "2025-08-05 08:54:05.617409"], ["username", "testuser_705"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:54:05 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:54:05 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 122], [nil, 122], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 122], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 122], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 122]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.5ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:05 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:54:06 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_114"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:54:06.142694"], ["updated_at", "2025-08-05 08:54:06.142694"], ["username", "testadmin_114"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:54:06 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:54:06 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 123], [nil, 123], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 123], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 123]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 123], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.3ms | GC: 0.1ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.1ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.6ms (8 queries, 0 cached) | GC: 0.1ms)
Started GET "/finances" for 127.0.0.1 at 2025-08-05 11:54:06 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[36mUser Sum (0.4ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 5.2ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.4ms (6 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.8ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:55:48 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 3.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_405"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:48.047942"], ["updated_at", "2025-08-05 08:55:48.047942"], ["username", "testuser_405"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:55:48 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:55:48 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 124], [nil, 124], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 124], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 124], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.4ms | GC: 0.2ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 3.2ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 124]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.2ms | GC: 0.2ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 11.6ms | GC: 1.2ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 1.4ms)
Completed 200 OK in 21ms (Views: 13.9ms | ActiveRecord: 2.6ms (7 queries, 2 cached) | GC: 2.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_872"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:48.102818"], ["updated_at", "2025-08-05 08:55:48.102818"], ["username", "testuser_872"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:55:48 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_246"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:48.113596"], ["updated_at", "2025-08-05 08:55:48.113596"], ["username", "testuser_246"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:55:48 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_164"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:48.121504"], ["updated_at", "2025-08-05 08:55:48.121504"], ["username", "testadmin_164"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 08:55:48 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:55:48"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-08-05 08:55:48.126587"], ["updated_at", "2025-08-05 08:55:48.126587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 3ms (ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_232"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:48.135501"], ["updated_at", "2025-08-05 08:55:48.135501"], ["username", "testuser_232"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"128", "redirect_to"=>"/hub", "user_id"=>"128"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.5ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 128]]
  [1m[36mFinance Create (0.5ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 128], ["amount", "-10.5"], ["notes", "Payment to testuser_232: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-08-05 08:55:48.145045"], ["updated_at", "2025-08-05 08:55:48.145045"], ["payer_id", 128], ["payee_id", 128]]
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 128]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 128], ["amount", "10.5"], ["notes", "Payment from testuser_232: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-08-05 08:55:48.146696"], ["updated_at", "2025-08-05 08:55:48.146696"], ["payer_id", 128], ["payee_id", 128]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 10ms (ActiveRecord: 2.8ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:55:48 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:48 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 11:55:48 +0300
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_606"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:49.214989"], ["updated_at", "2025-08-05 08:55:49.214989"], ["username", "testuser_606"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:49 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:55:49 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:55:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:55:49 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 129], [nil, 129], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 129], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 129], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 129]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.2ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.2ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.8ms (7 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007ae17c1c5d30>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:49.571159"], ["updated_at", "2025-08-05 08:55:49.571159"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 5ms (ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007ae17c246728>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:49.577187"], ["updated_at", "2025-08-05 08:55:49.577187"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 3ms (ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:49 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 1.0ms)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 4.4ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_616"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:49.634509"], ["updated_at", "2025-08-05 08:55:49.634509"], ["username", "testadmin_616"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:55:49 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:55:49 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 132], [nil, 132], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 132], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 132]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 132], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 8.7ms | GC: 0.7ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | GC: 0.7ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 1.7ms (8 queries, 0 cached) | GC: 0.7ms)
Started GET "/finances" for 127.0.0.1 at 2025-08-05 11:55:49 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mUser Sum (0.5ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.8ms | ActiveRecord: 1.4ms (6 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_229"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:50.063260"], ["updated_at", "2025-08-05 08:55:50.063260"], ["username", "testuser_229"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:50 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_784"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:50.102231"], ["updated_at", "2025-08-05 08:55:50.102231"], ["username", "testuser_784"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:55:50 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:55:50 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 134], [nil, 134], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 134], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 134], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 134]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.0ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:50 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:55:50 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-08-05 11:55:50 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:50 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-08-05 11:55:50 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.7ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)
Started POST "/users" for 127.0.0.1 at 2025-08-05 11:55:51 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007ae17c03bf50>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:51.024333"], ["updated_at", "2025-08-05 08:55:51.024333"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 6ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_426"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:51.301094"], ["updated_at", "2025-08-05 08:55:51.301094"], ["username", "testuser_426"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:55:51 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:55:51 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 136], [nil, 136], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 136], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 136], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 136]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 1.2ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:55:51.586221"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 08:55:51.586835"], ["updated_at", "2025-08-05 08:55:51.586835"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:51 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_291"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:51.621655"], ["updated_at", "2025-08-05 08:55:51.621655"], ["username", "testadmin_291"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:55:51 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:55:51 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 137], [nil, 137], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 137], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 137]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 137], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 6.3ms | GC: 6.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 13.9ms | GC: 6.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 6.0ms)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 6.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 08:55:52.163611"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 08:55:52.163946"], ["updated_at", "2025-08-05 08:55:52.163946"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 11:55:52 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_972"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:52.193686"], ["updated_at", "2025-08-05 08:55:52.193686"], ["username", "testadmin_972"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 11:55:52 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 11:55:52 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 138], [nil, 138], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 138], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 138]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 138], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.6ms (9 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_245"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 08:55:52.710861"], ["updated_at", "2025-08-05 08:55:52.710861"], ["username", "testuser_245"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_261"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:41.740798"], ["updated_at", "2025-08-05 09:59:41.740798"], ["username", "testuser_261"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 09:59:41 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_84"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:41.765251"], ["updated_at", "2025-08-05 09:59:41.765251"], ["username", "testuser_84"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 09:59:41 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 14.8ms)
  [1m[36mEvent Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_801"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:41.788024"], ["updated_at", "2025-08-05 09:59:41.788024"], ["username", "testadmin_801"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 09:59:41 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 09:59:41"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-08-05 09:59:41.795645"], ["updated_at", "2025-08-05 09:59:41.795645"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 6ms (ActiveRecord: 1.8ms (2 queries, 0 cached) | GC: 0.5ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:42 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.4ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 12:59:42 +0300
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_952"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:42.751428"], ["updated_at", "2025-08-05 09:59:42.751428"], ["username", "testuser_952"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 12:59:42 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 12:59:42 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.6ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 143], [nil, 143], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 143], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.9ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 143], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 143]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.8ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 12.9ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 13.8ms | ActiveRecord: 2.8ms (7 queries, 0 cached) | GC: 0.0ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:43 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 12:59:43 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 21ms (Views: 1.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 18.2ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:43 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_187"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:43.485490"], ["updated_at", "2025-08-05 09:59:43.485490"], ["username", "testuser_187"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 12:59:43 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.3ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 12:59:43 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 144], [nil, 144], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 144], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 144], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 144]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.0ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-08-05 12:59:43 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:43 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-08-05 12:59:43 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.2ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/users" for 127.0.0.1 at 2025-08-05 12:59:44 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x0000764a7a26a328>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:44.122938"], ["updated_at", "2025-08-05 09:59:44.122938"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/login
Completed 302 Found in 7ms (ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:44 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:44 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_555"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:44.361876"], ["updated_at", "2025-08-05 09:59:44.361876"], ["username", "testuser_555"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"146", "redirect_to"=>"/hub", "user_id"=>"146"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.5ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 146]]
  [1m[36mFinance Create (0.6ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 146], ["amount", "-10.5"], ["notes", "Payment to testuser_555: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-08-05 09:59:44.374641"], ["updated_at", "2025-08-05 09:59:44.374641"], ["payer_id", 146], ["payee_id", 146]]
  [1m[36mUser Update All (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 146]]
  [1m[36mFinance Create (0.8ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 146], ["amount", "10.5"], ["notes", "Payment from testuser_555: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-08-05 09:59:44.394038"], ["updated_at", "2025-08-05 09:59:44.394038"], ["payer_id", 146], ["payee_id", 146]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 31ms (ActiveRecord: 3.6ms (6 queries, 1 cached) | GC: 16.8ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:44 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_288"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:44.446350"], ["updated_at", "2025-08-05 09:59:44.446350"], ["username", "testadmin_288"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 12:59:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 12:59:44 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 147], [nil, 147], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 147], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 147]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 147], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.1ms | GC: 0.2ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.2ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 1.5ms (8 queries, 0 cached) | GC: 0.2ms)
Started GET "/finances" for 127.0.0.1 at 2025-08-05 12:59:44 +0300
Processing by FinancesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mUser Sum (0.3ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 1.3ms (6 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 09:59:44.796138"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 09:59:44.796491"], ["updated_at", "2025-08-05 09:59:44.796491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:44 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_237"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:44.827883"], ["updated_at", "2025-08-05 09:59:44.827883"], ["username", "testadmin_237"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 12:59:44 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 12:59:44 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.3ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 148], [nil, 148], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 148], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 148]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 148], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 1.4ms (9 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 09:59:45.364060"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 09:59:45.364621"], ["updated_at", "2025-08-05 09:59:45.364621"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:45 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 11.4ms | GC: 10.9ms)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | GC: 10.9ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 10.9ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_86"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:45.405668"], ["updated_at", "2025-08-05 09:59:45.405668"], ["username", "testadmin_86"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 12:59:45 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 12:59:45 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 149], [nil, 149], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 149], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 149]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 149], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.7ms | GC: 0.2ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.6ms | GC: 0.2ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.2ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 1.2ms (9 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 12:59:45 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:45 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_145"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:46.031572"], ["updated_at", "2025-08-05 09:59:46.031572"], ["username", "testuser_145"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:46 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 12:59:46 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 12:59:46 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2025-08-05 12:59:46 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 12:59:46 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 150], [nil, 150], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 150], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 150], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 150]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 6.9ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 1.6ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_997"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:46.371116"], ["updated_at", "2025-08-05 09:59:46.371116"], ["username", "testuser_997"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 12:59:46 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 12:59:46 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 151], [nil, 151], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 151], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 151], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.8ms | GC: 0.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 151]]
  Rendered hub/modals/_finance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.4ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.4ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.6ms (7 queries, 2 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 12:59:46 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_565"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:46.399637"], ["updated_at", "2025-08-05 09:59:46.399637"], ["username", "testuser_565"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_999"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:46.407531"], ["updated_at", "2025-08-05 09:59:46.407531"], ["username", "testuser_999"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 153], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x0000764a7a406560>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:46.416274"], ["updated_at", "2025-08-05 09:59:46.416274"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 3ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x0000764a7a4af340>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 09:59:46.421684"], ["updated_at", "2025-08-05 09:59:46.421684"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 3ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Saved a snapshot of [32mENV[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.8ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.5ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_974"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:08.839230"], ["updated_at", "2025-08-05 12:57:08.839230"], ["username", "testuser_974"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by FinancesController#add_payment as HTML
  Parameters: {"amount"=>"10.5", "notes"=>"Test payment", "payee_id"=>"156", "redirect_to"=>"/hub", "user_id"=>"156"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update All (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) - $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 156]]
  [1m[36mFinance Create (0.3ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 156], ["amount", "-10.5"], ["notes", "Payment to testuser_974: Test payment"], ["transaction_type", "payment_sent"], ["created_at", "2025-08-05 12:57:08.863401"], ["updated_at", "2025-08-05 12:57:08.863401"], ["payer_id", 156], ["payee_id", 156]]
  [1m[36mUser Update All (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance" = COALESCE("balance", 0) + $1 WHERE "users"."id" = $2[0m  [["balance", "10.5"], ["id", 156]]
  [1m[36mFinance Create (0.2ms)[0m  [1m[32mINSERT INTO "finances" ("user_id", "amount", "notes", "transaction_type", "created_at", "updated_at", "payer_id", "payee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 156], ["amount", "10.5"], ["notes", "Payment from testuser_974: Test payment"], ["transaction_type", "payment_received"], ["created_at", "2025-08-05 12:57:08.864921"], ["updated_at", "2025-08-05 12:57:08.864921"], ["payer_id", 156], ["payee_id", 156]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 13ms (ActiveRecord: 2.7ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.4ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007ad3a3fb4ec8>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:08.900577"], ["updated_at", "2025-08-05 12:57:08.900577"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 6ms (ActiveRecord: 1.9ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameters: :balance, :location, :position. Context: { controller: UsersController, action: create, request: #<ActionController::TestRequest:0x00007ad3a24db908>, params: {"user"=>{"balance"=>"0.0", "email"=>"[FILTERED]", "location"=>"City", "password"=>"[FILTERED]", "position"=>"Forward", "username"=>"newuser"}, "controller"=>"users", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "newuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:08.915083"], ["updated_at", "2025-08-05 12:57:08.915083"], ["username", "newuser"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/login
Completed 302 Found in 4ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 15:57:10 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.2ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)
Started GET "/assets/application-31d9a16c.css" for 127.0.0.1 at 2025-08-05 15:57:10 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_845"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:10.159323"], ["updated_at", "2025-08-05 12:57:10.159323"], ["username", "testadmin_845"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/en/login" for 127.0.0.1 at 2025-08-05 15:57:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/en/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/en/hub" for 127.0.0.1 at 2025-08-05 15:57:10 +0300
Processing by HubController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 159], [nil, 159], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 159], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 159]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 159], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 3.6ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 12.8ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 12.4ms | ActiveRecord: 3.1ms (8 queries, 0 cached) | GC: 0.0ms)
Started GET "/en/finances" for 127.0.0.1 at 2025-08-05 15:57:10 +0300
Processing by FinancesController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  [1m[36mUser Sum (0.4ms)[0m  [1m[34mSELECT SUM("users"."balance") FROM "users"[0m
  Rendering layout layouts/application.html.erb
  Rendering finances/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  [1m[36mFinance Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "finances" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Admin"], ["LIMIT", 1]]
  Rendered finances/index.html.erb within layouts/application (Duration: 24.2ms | GC: 17.8ms)
  Rendered shared/_header.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | GC: 17.8ms)
Completed 200 OK in 30ms (Views: 25.3ms | ActiveRecord: 1.5ms (6 queries, 0 cached) | GC: 17.8ms)
[dotenv] Restored snapshot of [32mENV[0m
[dotenv] Unset [31mRACK_ENV[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 15:57:10 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_553"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:10.698872"], ["updated_at", "2025-08-05 12:57:10.698872"], ["username", "testuser_553"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/en/login" for 127.0.0.1 at 2025-08-05 15:57:10 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/en/hub
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/en/hub" for 127.0.0.1 at 2025-08-05 15:57:10 +0300
Processing by HubController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 160], [nil, 160], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 160], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 160], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 160]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.1ms | GC: 0.2ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 7.7ms | GC: 0.2ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.2ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 1.4ms (7 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 15:57:10 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.2ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/en/login" for 127.0.0.1 at 2025-08-05 15:57:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.1ms)
Completed 422 Unprocessable Content in 3ms (Views: 1.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 15:57:11 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.7ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.7ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_995"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:11.324791"], ["updated_at", "2025-08-05 12:57:11.324791"], ["username", "testuser_995"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/en/login" for 127.0.0.1 at 2025-08-05 15:57:11 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in", "locale"=>"en"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/en/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/en/hub" for 127.0.0.1 at 2025-08-05 15:57:11 +0300
Processing by HubController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 161], [nil, 161], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 161], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 161], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 1.7ms | GC: 0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 161]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.7ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 6.7ms | GC: 0.7ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.7ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.9ms (7 queries, 0 cached) | GC: 1.2ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 15:57:11 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/" for 127.0.0.1 at 2025-08-05 15:57:11 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 15:57:11 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/signup" for 127.0.0.1 at 2025-08-05 15:57:11 +0300
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/en/users" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "locale"=>"en"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :password_confirmation. Context: { controller: UsersController, action: create, request: #<ActionDispatch::Request:0x00007ad3a8983180>, params: {"user"=>{"username"=>"Test User", "email"=>"[FILTERED]", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create Account", "controller"=>"users", "action"=>"create", "locale"=>"en"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "Test User"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:12.177499"], ["updated_at", "2025-08-05 12:57:12.177499"], ["username", "Test User"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", nil], ["chain", nil], ["car", false], ["location", nil], ["balance", "-100.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:3001/en/login
Completed 302 Found in 6ms (ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.0ms)
Started GET "/en/login" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by SessionsController#new as HTML
  Parameters: {"locale"=>"en"}
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_400"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:12.301109"], ["updated_at", "2025-08-05 12:57:12.301109"], ["username", "testuser_400"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/hub
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.2ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 163], [nil, 163], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 163], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 163], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mCACHE Event Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 163]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.9ms (7 queries, 2 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://www.example.com/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://test.host/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_950"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:12.346990"], ["updated_at", "2025-08-05 12:57:12.346990"], ["username", "testuser_950"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HubController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hub/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_343"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:12.353206"], ["updated_at", "2025-08-05 12:57:12.353206"], ["username", "testuser_343"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.3ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
Started POST "/en/login" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in", "locale"=>"en"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/en/hub
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/en/hub" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by HubController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 165], [nil, 165], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 165], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 1.0ms | GC: 0.2ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 165], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 165]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 8.5ms | GC: 0.2ms)
  Rendered shared/_header.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.2ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 1.5ms (7 queries, 0 cached) | GC: 0.2ms)
Started GET "/hub" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mFinance Load (0.3ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 165], [nil, 165], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 165], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 165], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 1.4ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered hub/modals/_event_view.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 165]]
  Rendered hub/modals/_finance.html.erb (Duration: 1.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 9.6ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.4ms | GC: 0.2ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | GC: 0.2ms)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 1.8ms (7 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
Started GET "/hub" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by HubController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/login
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/login" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_938"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:12.827486"], ["updated_at", "2025-08-05 12:57:12.827486"], ["username", "testuser_938"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_515"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:12.833672"], ["updated_at", "2025-08-05 12:57:12.833672"], ["username", "testadmin_515"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 12:57:12 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 12:57:12"], ["event_type", "Training"], ["location", "Stadium"], ["notes", nil], ["created_at", "2025-08-05 12:57:12.839452"], ["updated_at", "2025-08-05 12:57:12.839452"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/hub
Completed 302 Found in 3ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_649"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:12.845470"], ["updated_at", "2025-08-05 12:57:12.845470"], ["username", "testuser_649"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 12:57:12 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testuser_988"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:12.852835"], ["updated_at", "2025-08-05 12:57:12.852835"], ["username", "testuser_988"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "player"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
Processing by EventsController#create as HTML
  Parameters: {"event"=>{"datetime"=>"2025-08-06 12:57:12 UTC", "event_type"=>"Training", "location"=>"Stadium"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
Redirected to http://test.host/hub
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mEvent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "events"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 12:57:12.864142"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 12:57:12.864373"], ["updated_at", "2025-08-05 12:57:12.864373"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 15:57:12 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_947"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:12.904198"], ["updated_at", "2025-08-05 12:57:12.904198"], ["username", "testadmin_947"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/en/login" for 127.0.0.1 at 2025-08-05 15:57:13 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in", "locale"=>"en"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/en/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/en/hub" for 127.0.0.1 at 2025-08-05 15:57:13 +0300
Processing by HubController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 170], [nil, 170], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 170], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 170]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 170], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.7ms | GC: 0.2ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 10.3ms | GC: 0.4ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | GC: 0.4ms)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 1.6ms (9 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events"[0m
  [1m[36mFinance Load (0.1ms)[0m  [1m[34mSELECT "finances".* FROM "finances"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.5ms)[0m  [1m[32mINSERT INTO "events" ("datetime", "event_type", "location", "notes", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["datetime", "2025-08-06 12:57:13.424792"], ["event_type", "training"], ["location", "Test Location"], ["notes", "Test event"], ["created_at", "2025-08-05 12:57:13.425304"], ["updated_at", "2025-08-05 12:57:13.425304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2025-08-05 15:57:13 +0300
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "testadmin_794"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at", "username", "email", "password_digest", "access_level", "position", "chain", "car", "location", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["created_at", "2025-08-05 12:57:13.461146"], ["updated_at", "2025-08-05 12:57:13.461146"], ["username", "testadmin_794"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["access_level", "admin"], ["position", "Forward"], ["chain", nil], ["car", false], ["location", "City"], ["balance", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/en/login" for 127.0.0.1 at 2025-08-05 15:57:13 +0300
Processing by SessionsController#create as HTML
  Parameters: {"email"=>"[FILTERED]", "password"=>"[FILTERED]", "commit"=>"sign in", "locale"=>"en"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3001/en/hub
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/en/hub" for 127.0.0.1 at 2025-08-05 15:57:13 +0300
Processing by HubController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering hub/index.html.erb within layouts/application
  [1m[36mEvent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC LIMIT $1[0m  [["LIMIT", 5]]
  [1m[36mFinance Load (0.0ms)[0m  [1m[34mSELECT "finances".* FROM "finances" WHERE (payer_id = $1 OR payee_id = $2) ORDER BY "finances"."created_at" DESC LIMIT $3[0m  [[nil, 171], [nil, 171], ["LIMIT", 10]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 171], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_add.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered hub/modals/_user_edit_self.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != $1 ORDER BY "users"."username" ASC[0m  [["id", 171]]
  Rendered hub/modals/_user_edit_user.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."id" != $1 AND "users"."username" != $2 LIMIT $3[0m  [["id", 171], ["username", "Admin"], ["LIMIT", 1]]
  Rendered hub/modals/_user_view.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mEvent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "events" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" ORDER BY "events"."datetime" ASC[0m
  Rendered hub/modals/_event_view.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered hub/modals/_event_edit.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered hub/modals/_event_add.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/modals/_finance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered hub/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered shared/_header.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.6ms (9 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
